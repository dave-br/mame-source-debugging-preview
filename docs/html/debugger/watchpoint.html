<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Watchpoint Debugger Commands &mdash; MAME Documentation 0.279 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/documentation_options.js?v=1a7c6e39"></script>
        <script src="../_static/doctools.js?v=9bcbadda"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Registerpoint Debugger Commands" href="registerpoints.html" />
    <link rel="prev" title="Breakpoint Debugger Commands" href="breakpoint.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            MAME Documentation
          </a>
              <div class="version">
                0.279
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../whatis.html">What is MAME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../healthwarning.html">Health Warnings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../initialsetup/index.html">Getting MAME prepared</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usingmame/index.html">Basic MAME Usage and Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commandline/index.html">MAME Command-line Usage and OS-Specific Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/index.html">Advanced configuration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">MAME Debugger</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="general.html">General Debugger Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory.html">Memory Debugger Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="execution.html">Execution Debugger Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="breakpoint.html">Breakpoint Debugger Commands</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Watchpoint Debugger Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="registerpoints.html">Registerpoint Debugger Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="exceptionpoint.html">Exceptionpoint Debugger Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotation.html">Code Annotation Debugger Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="cheats.html">Cheat Debugger Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="image.html">Media Image Debugger Commands</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../luascript/index.html">Lua Scripting Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">MAME External Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing to MAME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../techspecs/index.html">Technical Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">MAME and security concerns</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">The MAME License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MAME Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">MAME Debugger</a></li>
      <li class="breadcrumb-item active">Watchpoint Debugger Commands</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="watchpoint-debugger-commands">
<span id="debugger-watchpoints-list"></span><h1>Watchpoint Debugger Commands<a class="headerlink" href="#watchpoint-debugger-commands" title="Link to this heading">¶</a></h1>
<dl class="simple">
<dt><a class="reference internal" href="#debugger-command-wpset"><span class="std std-ref">wpset</span></a></dt><dd><p>sets memory access watchpoints</p>
</dd>
<dt><a class="reference internal" href="#debugger-command-wpclear"><span class="std std-ref">wpclear</span></a></dt><dd><p>clears watchpoints</p>
</dd>
<dt><a class="reference internal" href="#debugger-command-wpdisable"><span class="std std-ref">wpdisable</span></a></dt><dd><p>disables watchpoints</p>
</dd>
<dt><a class="reference internal" href="#debugger-command-wpenable"><span class="std std-ref">wpenable</span></a></dt><dd><p>enables enables watchpoints</p>
</dd>
<dt><a class="reference internal" href="#debugger-command-wplist"><span class="std std-ref">wplist</span></a></dt><dd><p>lists watchpoints</p>
</dd>
</dl>
<p>Watchpoints halt execution and activate the debugger when a CPU accesses
a location in a particular memory range.</p>
<section id="wpset">
<span id="debugger-command-wpset"></span><h2>wpset<a class="headerlink" href="#wpset" title="Link to this heading">¶</a></h2>
<p><strong>wp[{d|i|o}][set] &lt;address&gt;[:&lt;space&gt;],&lt;length&gt;,&lt;type&gt;[,&lt;condition&gt;[,&lt;action&gt;]]</strong></p>
<p>Sets a new watchpoint starting at the specified <strong>&lt;address&gt;</strong> and
extending for <strong>&lt;length&gt;</strong>.  The range of the watchpoint is
<strong>&lt;address&gt;</strong> through <strong>&lt;address&gt;+&lt;length&gt;-1</strong>, inclusive.  The
<strong>&lt;address&gt;</strong> may optionally be followed by a CPU and/or address space
(see <a class="reference internal" href="index.html#debugger-devicespec"><span class="std std-ref">Specifying devices and address spaces</span></a> for details).  If an address space is
not specified, the command suffix sets the address space: <code class="docutils literal notranslate"><span class="pre">wpset</span></code>
defaults to the first address space exposed by the CPU, <code class="docutils literal notranslate"><span class="pre">wpdset</span></code>
defaults to the space with index 1 (data), <code class="docutils literal notranslate"><span class="pre">wpiset</span></code> defaults to the
space with index 2 (I/O), and <code class="docutils literal notranslate"><span class="pre">wposet</span></code> defaults to the space with
index 3 (opcodes).  The <strong>&lt;type&gt;</strong> parameter specifies the access types
to trap on – it can be one of three values: <code class="docutils literal notranslate"><span class="pre">r</span></code> for read accesses,
<code class="docutils literal notranslate"><span class="pre">w</span></code> for write accesses, or <code class="docutils literal notranslate"><span class="pre">rw</span></code> for both read and write accesses.</p>
<p>The optional <strong>&lt;condition&gt;</strong> parameter lets you specify an expression
that will be evaluated each time the watchpoint is triggered.  If the
result of the expression is true (non-zero), the watchpoint will halt
execution; otherwise, execution will continue with no notification.  The
optional <strong>&lt;action&gt;</strong> parameter provides a command to be executed
whenever the watchpoint is triggered and the <strong>&lt;condition&gt;</strong> is true.
Note that you may need to surround the action with braces <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">}</span></code> to
ensure commas and semicolons within the command are not interpreted in
the context of the <code class="docutils literal notranslate"><span class="pre">wpset</span></code> command itself.</p>
<p>Each watchpoint that is set is assigned a numeric index which can be
used to refer to it in other watchpoint commands.  Watchpoint indices
are unique throughout a session.</p>
<p>To make <strong>&lt;condition&gt;</strong> expressions more useful, two variables are
available: for all watchpoints, the variable <strong>wpaddr</strong> is set to the
access address that triggered the watchpoint; for write watchpoints, the
variable <strong>wpdata</strong> is set to the data being written.</p>
<p>Examples:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">wp</span> <span class="pre">1234,6,rw</span></code></dt><dd><p>Set a watchpoint for the visible CPU that will halt execution
whenever a read or write to the first address space occurs in the
address range 1234-1239, inclusive.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wp</span> <span class="pre">23456:data,a,w,wpdata</span> <span class="pre">==</span> <span class="pre">1</span></code></dt><dd><p>Set a watchpoint for the visible CPU that will halt execution
whenever a write to the <code class="docutils literal notranslate"><span class="pre">data</span></code> space occurs in the address range
23456-2345f and the data written is equal to 1.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wp</span> <span class="pre">3456:maincpu,20,r,1,{</span> <span class="pre">printf</span> <span class="pre">&quot;Read</span> <span class="pre">&#64;</span> <span class="pre">%08X\n&quot;,wpaddr</span> <span class="pre">;</span> <span class="pre">g</span> <span class="pre">}</span></code></dt><dd><p>Set a watchpoint for the CPU with the absolute tag path <code class="docutils literal notranslate"><span class="pre">:maincpu</span></code>
that will halt execution whenever a read from the first address
space occurs in the address range 3456-3475.  When this happens,
print <strong>Read &#64; &lt;wpaddr&gt;</strong> to the debugger console and resume
execution.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">temp0</span> <span class="pre">=</span> <span class="pre">0</span> <span class="pre">;</span> <span class="pre">wp</span> <span class="pre">45678,1,w,wpdata==f0,{</span> <span class="pre">temp0++</span> <span class="pre">;</span> <span class="pre">g</span> <span class="pre">}</span></code></dt><dd><p>Set a watchpoint for the visible CPU that will halt execution
whenever a write to the first address space occurs at address 45678
where the value being written is equal to f0.  When this happens,
increment the variable <strong>temp0</strong> and resume execution.</p>
</dd>
</dl>
<p>Back to <a class="reference internal" href="#debugger-watchpoints-list"><span class="std std-ref">Watchpoint Debugger Commands</span></a></p>
</section>
<section id="wpclear">
<span id="debugger-command-wpclear"></span><h2>wpclear<a class="headerlink" href="#wpclear" title="Link to this heading">¶</a></h2>
<p><strong>wpclear [&lt;wpnum&gt;[,…]]</strong></p>
<p>Clear watchpoints.  If <strong>&lt;wpnum&gt;</strong> is specified, the watchpoints
referred to will be cleared.  If <strong>&lt;wpnum&gt;</strong> is not specified, all
watchpoints will be cleared.</p>
<p>Examples:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">wpclear</span> <span class="pre">3</span></code></dt><dd><p>Clear the watchpoint with index 3.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wpclear</span></code></dt><dd><p>Clear all watchpoints.</p>
</dd>
</dl>
<p>Back to <a class="reference internal" href="#debugger-watchpoints-list"><span class="std std-ref">Watchpoint Debugger Commands</span></a></p>
</section>
<section id="wpdisable">
<span id="debugger-command-wpdisable"></span><h2>wpdisable<a class="headerlink" href="#wpdisable" title="Link to this heading">¶</a></h2>
<p><strong>wpdisable [&lt;wpnum&gt;[,…]]</strong></p>
<p>Disable watchpoints.  If <strong>&lt;wpnum&gt;</strong> is specified, the watchpoints
referred to will be disabled.  If <strong>&lt;wpnum&gt;</strong> is not specified, all
watchpoints will be disabled.</p>
<p>Note that disabling a watchpoint does not delete it, it just temporarily
marks the watchpoint as inactive.  Disabled watchpoints will not cause
execution to halt, their associated condition expressions will not be
evaluated, and their associated commands will not be executed.</p>
<p>Examples:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">wpdisable</span> <span class="pre">3</span></code></dt><dd><p>Disable the watchpoint with index 3.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wpdisable</span></code></dt><dd><p>Disable all watchpoints.</p>
</dd>
</dl>
<p>Back to <a class="reference internal" href="#debugger-watchpoints-list"><span class="std std-ref">Watchpoint Debugger Commands</span></a></p>
</section>
<section id="wpenable">
<span id="debugger-command-wpenable"></span><h2>wpenable<a class="headerlink" href="#wpenable" title="Link to this heading">¶</a></h2>
<p><strong>wpenable [&lt;wpnum&gt;[,…]]</strong></p>
<p>Enable watchpoints.  If <strong>&lt;wpnum&gt;</strong> is specified, the watchpoints
referred to will be enabled.  If <strong>&lt;wpnum&gt;</strong> is not specified, all
watchpoints will be enabled.</p>
<p>Examples:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">wpenable</span> <span class="pre">3</span></code></dt><dd><p>Enable the watchpoint with index 3.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wpenable</span></code></dt><dd><p>Enable all watchpoints.</p>
</dd>
</dl>
<p>Back to <a class="reference internal" href="#debugger-watchpoints-list"><span class="std std-ref">Watchpoint Debugger Commands</span></a></p>
</section>
<section id="wplist">
<span id="debugger-command-wplist"></span><h2>wplist<a class="headerlink" href="#wplist" title="Link to this heading">¶</a></h2>
<p><strong>wplist [&lt;CPU&gt;]</strong></p>
<p>List current watchpoints, along with their indices and any associated
conditions or actions.  If no <strong>&lt;CPU&gt;</strong> is specified, watchpoints for
all CPUs in the system will be listed; if a <strong>&lt;CPU&gt;</strong> is specified, only
watchpoints for that CPU will be listed.  The <strong>&lt;CPU&gt;</strong> can be specified
by tag or by debugger CPU number (see <a class="reference internal" href="index.html#debugger-devicespec"><span class="std std-ref">Specifying devices and address spaces</span></a> for
details).</p>
<p>Examples:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">wplist</span></code></dt><dd><p>List all watchpoints.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wplist</span> <span class="pre">.</span></code></dt><dd><p>List all watchpoints for the visible CPU.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wplist</span> <span class="pre">maincpu</span></code></dt><dd><p>List all watchpoints for the CPU with the absolute tag path
<code class="docutils literal notranslate"><span class="pre">:maincpu</span></code>.</p>
</dd>
</dl>
<p>Back to <a class="reference internal" href="#debugger-watchpoints-list"><span class="std std-ref">Watchpoint Debugger Commands</span></a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="breakpoint.html" class="btn btn-neutral float-left" title="Breakpoint Debugger Commands" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="registerpoints.html" class="btn btn-neutral float-right" title="Registerpoint Debugger Commands" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 1997-2025, MAMEdev and contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>