<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lua Input System Classes &mdash; MAME Documentation 0.283 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/documentation_options.js?v=dfedea7a"></script>
        <script src="../_static/doctools.js?v=9bcbadda"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Lua Render System Classes" href="ref-render.html" />
    <link rel="prev" title="Lua Memory System Classes" href="ref-mem.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            MAME Documentation
          </a>
              <div class="version">
                0.283
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../whatis.html">What is MAME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../healthwarning.html">Health Warnings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../initialsetup/index.html">Getting MAME prepared</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usingmame/index.html">Basic MAME Usage and Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commandline/index.html">MAME Command-line Usage and OS-Specific Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/index.html">Advanced configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../debugger/index.html">MAME Debugger</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Lua Scripting Interface</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ref-common.html">Lua Common Types and Globals</a></li>
<li class="toctree-l2"><a class="reference internal" href="ref-core.html">Lua Core Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="ref-devices.html">Lua Device Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="ref-mem.html">Lua Memory System Classes</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Lua Input System Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="ref-render.html">Lua Render System Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="ref-debugger.html">Lua Debugger Classes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">MAME External Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing to MAME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../techspecs/index.html">Technical Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">MAME and security concerns</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">The MAME License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MAME Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Lua Scripting Interface</a></li>
      <li class="breadcrumb-item active">Lua Input System Classes</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="lua-input-system-classes">
<span id="luascript-ref-input"></span><h1>Lua Input System Classes<a class="headerlink" href="#lua-input-system-classes" title="Link to this heading">¶</a></h1>
<p>Allows scripts to get input from the user, and access I/O ports in the emulated
system.</p>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#i-o-port-manager" id="id36">I/O port manager</a></p></li>
<li><p><a class="reference internal" href="#natural-keyboard-manager" id="id37">Natural keyboard manager</a></p></li>
<li><p><a class="reference internal" href="#keyboard-input-device" id="id38">Keyboard input device</a></p></li>
<li><p><a class="reference internal" href="#i-o-port" id="id39">I/O port</a></p></li>
<li><p><a class="reference internal" href="#i-o-port-field" id="id40">I/O port field</a></p></li>
<li><p><a class="reference internal" href="#live-i-o-port-field-state" id="id41">Live I/O port field state</a></p></li>
<li><p><a class="reference internal" href="#input-type" id="id42">Input type</a></p></li>
<li><p><a class="reference internal" href="#input-manager" id="id43">Input manager</a></p></li>
<li><p><a class="reference internal" href="#input-code-poller" id="id44">Input code poller</a></p></li>
<li><p><a class="reference internal" href="#input-sequence-poller" id="id45">Input sequence poller</a></p></li>
<li><p><a class="reference internal" href="#input-sequence" id="id46">Input sequence</a></p></li>
<li><p><a class="reference internal" href="#host-input-device-class" id="id47">Host input device class</a></p></li>
<li><p><a class="reference internal" href="#host-input-device" id="id48">Host input device</a></p></li>
<li><p><a class="reference internal" href="#host-input-device-item" id="id49">Host input device item</a></p></li>
<li><p><a class="reference internal" href="#ui-input-manager" id="id50">UI input manager</a></p></li>
</ul>
</nav>
<section id="i-o-port-manager">
<span id="luascript-ref-ioportman"></span><h2><a class="toc-backref" href="#id36" role="doc-backlink">I/O port manager</a><a class="headerlink" href="#i-o-port-manager" title="Link to this heading">¶</a></h2>
<p>Wraps MAME’s <code class="docutils literal notranslate"><span class="pre">ioport_manager</span></code> class, which provides access to emulated I/O
ports and handles input configuration.</p>
<section id="instantiation">
<h3>Instantiation<a class="headerlink" href="#instantiation" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>manager.machine.ioport</dt><dd><p>Gets the global I/O port manager instance for the emulated machine.</p>
</dd>
</dl>
</section>
<section id="methods">
<h3>Methods<a class="headerlink" href="#methods" title="Link to this heading">¶</a></h3>
<dl>
<dt>ioport:count_players()</dt><dd><p>Returns the number of player controllers in the system.</p>
</dd>
<dt>ioport:type_pressed(type, [player])</dt><dd><p>Returns a Boolean indicating whether the specified input is currently
pressed.  The input type may be an enumerated value or an
<a class="reference internal" href="#luascript-ref-inputtype"><span class="std std-ref">input type</span></a> entry.  If the input type is an
enumerated value, the player number may be supplied as a zero-based index;
if the player number is not supplied, it is assumed to be zero.  If the
input type is an input type entry, the player number may not be supplied
separately.</p>
</dd>
<dt>ioport:type_name(type, [player])</dt><dd><p>Returns the display name for the specified input type and player number.
The input type is an enumerated value.  The player number is a zero-based
index.  If the player number is not supplied, it is assumed to be zero.</p>
</dd>
<dt>ioport:type_group(type, player)</dt><dd><p>Returns the input group for the specified input type and player number.  The
input type is an enumerated value.  The player number is a zero-based index.
Returns an integer giving the grouping for the input.  If the player number
is not supplied, it is assumed to be zero.</p>
<p>This should be called with values obtained from I/O port fields to provide
canonical grouping in an input configuration UI.</p>
</dd>
<dt>ioport:type_seq(type, [player], [seqtype])</dt><dd><p>Get the configured <a class="reference internal" href="#luascript-ref-inputseq"><span class="std std-ref">input sequence</span></a> for the
specified input type, player number and sequence type.  The input type may
be an enumerated value or an
<a class="reference internal" href="#luascript-ref-inputtype"><span class="std std-ref">input type</span></a> entry.  If the input type is an
enumerated value, the player number may be supplied as a zero-based index;
if the player number is not supplied, it is assumed to be zero.  If the
input type is an input type entry, the player number may not be supplied
separately.  If the sequence type is supplied, it must be <code class="docutils literal notranslate"><span class="pre">&quot;standard&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;increment&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;decrement&quot;</span></code>; if it is not supplied, it is assumed to
be <code class="docutils literal notranslate"><span class="pre">&quot;standard&quot;</span></code>.</p>
<p>This provides access to general input assignments.</p>
</dd>
<dt>ioport:set_type_seq(type, [player], seqtype, seq)</dt><dd><p>Set the configured <a class="reference internal" href="#luascript-ref-inputseq"><span class="std std-ref">input sequence</span></a> for the
specified input type, player number and sequence type.  The input type may
be an enumerated value or an
<a class="reference internal" href="#luascript-ref-inputtype"><span class="std std-ref">input type</span></a> entry.  If the input type is an
enumerated value, the player number must be supplied as a zero-based index.
If the input type is an input type entry, the player number may not be
supplied separately.  The sequence type must be <code class="docutils literal notranslate"><span class="pre">&quot;standard&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;increment&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;decrement&quot;</span></code>.</p>
<p>This allows general input assignments to be set.</p>
</dd>
<dt>ioport:token_to_input_type(string)</dt><dd><p>Returns the input type and player number for the specified input type token
string.</p>
</dd>
<dt>ioport:input_type_to_token(type, [player])</dt><dd><p>Returns the token string for the specified input type and player number.  If
the player number is not supplied, it assumed to be zero.</p>
</dd>
</dl>
</section>
<section id="properties">
<h3>Properties<a class="headerlink" href="#properties" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>ioport.types[] (read-only)</dt><dd><p>Gets the supported <a class="reference internal" href="#luascript-ref-inputtype"><span class="std std-ref">input types</span></a>.  Keys are
arbitrary indices.  All supported operations have O(1) complexity.</p>
</dd>
<dt>ioport.ports[]</dt><dd><p>Gets the emulated <a class="reference internal" href="#luascript-ref-ioport"><span class="std std-ref">I/O ports</span></a> in the system.
Keys are absolute tags.  The <code class="docutils literal notranslate"><span class="pre">at</span></code> and <code class="docutils literal notranslate"><span class="pre">index_of</span></code> methods have O(n)
complexity; all other supported operations have O(1) complexity.</p>
</dd>
</dl>
</section>
</section>
<section id="natural-keyboard-manager">
<span id="luascript-ref-natkbdman"></span><h2><a class="toc-backref" href="#id37" role="doc-backlink">Natural keyboard manager</a><a class="headerlink" href="#natural-keyboard-manager" title="Link to this heading">¶</a></h2>
<p>Wraps MAME’s <code class="docutils literal notranslate"><span class="pre">natural_keyboard</span></code> class, which manages emulated keyboard and
keypad inputs.</p>
<section id="id1">
<h3>Instantiation<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>manager.machine.natkeyboard</dt><dd><p>Gets the global natural keyboard manager instance for the emulated machine.</p>
</dd>
</dl>
</section>
<section id="id2">
<h3>Methods<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<dl>
<dt>natkeyboard:post(text)</dt><dd><p>Post literal text to the emulated machine.  The machine must have keyboard
inputs with character bindings, and the correct keyboard input device must
be enabled.</p>
</dd>
<dt>natkeyboard:post_coded(text)</dt><dd><p>Post text to the emulated machine.  Brace-enclosed codes are interpreted in
the text.  The machine must have keyboard inputs with character bindings,
and the correct keyboard input device must be enabled.</p>
<p>The recognised codes are <code class="docutils literal notranslate"><span class="pre">{BACKSPACE}</span></code>, <code class="docutils literal notranslate"><span class="pre">{BS}</span></code>, <code class="docutils literal notranslate"><span class="pre">{BKSP}</span></code>, <code class="docutils literal notranslate"><span class="pre">{DEL}</span></code>,
<code class="docutils literal notranslate"><span class="pre">{DELETE}</span></code>, <code class="docutils literal notranslate"><span class="pre">{END}</span></code>, <code class="docutils literal notranslate"><span class="pre">{ENTER}</span></code>, <code class="docutils literal notranslate"><span class="pre">{ESC}</span></code>, <code class="docutils literal notranslate"><span class="pre">{HOME}</span></code>, <code class="docutils literal notranslate"><span class="pre">{INS}</span></code>,
<code class="docutils literal notranslate"><span class="pre">{INSERT}</span></code>, <code class="docutils literal notranslate"><span class="pre">{PGDN}</span></code>, <code class="docutils literal notranslate"><span class="pre">{PGUP}</span></code>, <code class="docutils literal notranslate"><span class="pre">{SPACE}</span></code>, <code class="docutils literal notranslate"><span class="pre">{TAB}</span></code>, <code class="docutils literal notranslate"><span class="pre">{F1}</span></code>,
<code class="docutils literal notranslate"><span class="pre">{F2}</span></code>, <code class="docutils literal notranslate"><span class="pre">{F3}</span></code>, <code class="docutils literal notranslate"><span class="pre">{F4}</span></code>, <code class="docutils literal notranslate"><span class="pre">{F5}</span></code>, <code class="docutils literal notranslate"><span class="pre">{F6}</span></code>, <code class="docutils literal notranslate"><span class="pre">{F7}</span></code>, <code class="docutils literal notranslate"><span class="pre">{F8}</span></code>,
<code class="docutils literal notranslate"><span class="pre">{F9}</span></code>, <code class="docutils literal notranslate"><span class="pre">{F10}</span></code>, <code class="docutils literal notranslate"><span class="pre">{F11}</span></code>, <code class="docutils literal notranslate"><span class="pre">{F12}</span></code>, and <code class="docutils literal notranslate"><span class="pre">{QUOTE}</span></code>.</p>
</dd>
<dt>natkeyboard:paste()</dt><dd><p>Post the contents of the host clipboard to the emulated machine.  The
machine must have keyboard inputs with character bindings, and the correct
keyboard input device must be enabled.</p>
</dd>
<dt>natkeyboard:dump()</dt><dd><p>Returns a string with a human-readable description of the keyboard and
keypad input devices in the system, whether they are enabled, and their
character bindings.</p>
</dd>
</dl>
</section>
<section id="id3">
<h3>Properties<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>natkeyboard.empty (read-only)</dt><dd><p>A Boolean indicating whether the natural keyboard manager’s input buffer is
empty.</p>
</dd>
<dt>natkeyboard.full (read-only)</dt><dd><p>A Boolean indicating whether the natural keyboard manager’s input buffer is
full.</p>
</dd>
<dt>natkeyboard.can_post (read-only)</dt><dd><p>A Boolean indicating whether the emulated system supports posting character
data via the natural keyboard manager.</p>
</dd>
<dt>natkeyboard.is_posting (read-only)</dt><dd><p>A Boolean indicating whether posted character data is currently being
delivered to the emulated system.</p>
</dd>
<dt>natkeyboard.in_use (read/write)</dt><dd><p>A Boolean indicating whether “natural keyboard” mode is enabled.  When
“natural keyboard” mode is enabled, the natural keyboard manager translates
host character input to emulated system keystrokes.</p>
</dd>
<dt>natkeyboard.keyboards[]</dt><dd><p>Gets the <a class="reference internal" href="#luascript-ref-natkbddev"><span class="std std-ref">keyboard/keypad input devices</span></a> in
the emulated system, indexed by absolute device tag.  Index get has O(n)
complexity; all other supported operations have O(1) complexity.</p>
</dd>
</dl>
</section>
</section>
<section id="keyboard-input-device">
<span id="luascript-ref-natkbddev"></span><h2><a class="toc-backref" href="#id38" role="doc-backlink">Keyboard input device</a><a class="headerlink" href="#keyboard-input-device" title="Link to this heading">¶</a></h2>
<p>Represents a keyboard or keypad input device managed by the
<a class="reference internal" href="#luascript-ref-natkbdman"><span class="std std-ref">natural keyboard manager</span></a>.  Note that this is
not a <a class="reference internal" href="ref-devices.html#luascript-ref-device"><span class="std std-ref">device</span></a> class.</p>
<section id="id4">
<h3>Instantiation<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>manager.machine.natkeyboard.keyboards[tag]</dt><dd><p>Gets the keyboard input device with the specified tag, or <code class="docutils literal notranslate"><span class="pre">nil</span></code> if the tag
does not correspond to a keyboard input device.</p>
</dd>
</dl>
</section>
<section id="id5">
<h3>Properties<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>keyboard.device (read-only)</dt><dd><p>The underlying <a class="reference internal" href="ref-devices.html#luascript-ref-device"><span class="std std-ref">device</span></a>.</p>
</dd>
<dt>keyboard.tag (read-only)</dt><dd><p>The absolute tag of the underlying device.</p>
</dd>
<dt>keyboard.basetag (read-only)</dt><dd><p>The last component of the tag of the underlying device, or <code class="docutils literal notranslate"><span class="pre">&quot;root&quot;</span></code> for
the root machine device.</p>
</dd>
<dt>keyboard.name (read-only)</dt><dd><p>The human-readable description of the underlying device type.</p>
</dd>
<dt>keyboard.shortname (read-only)</dt><dd><p>The identifier for the underlying device type.</p>
</dd>
<dt>keyboard.is_keypad (read-only)</dt><dd><p>A Boolean indicating whether the underlying device has keypad inputs but no
keyboard inputs.  This is used when determining which keyboard input devices
should be enabled by default.</p>
</dd>
<dt>keyboard.enabled (read/write)</dt><dd><p>A Boolean indicating whether the device’s keyboard and/or keypad inputs are
enabled.</p>
</dd>
</dl>
</section>
</section>
<section id="i-o-port">
<span id="luascript-ref-ioport"></span><h2><a class="toc-backref" href="#id39" role="doc-backlink">I/O port</a><a class="headerlink" href="#i-o-port" title="Link to this heading">¶</a></h2>
<p>Wraps MAME’s <code class="docutils literal notranslate"><span class="pre">ioport_port</span></code> class, representing an emulated I/O port.</p>
<section id="id6">
<h3>Instantiation<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>manager.machine.ioport.ports[tag]</dt><dd><p>Gets an emulated I/O port by absolute tag, or <code class="docutils literal notranslate"><span class="pre">nil</span></code> if the tag does not
correspond to an I/O port.</p>
</dd>
<dt>manager.machine.devices[devtag]:ioport(porttag)</dt><dd><p>Gets an emulated I/O port by tag relative to a device, or <code class="docutils literal notranslate"><span class="pre">nil</span></code> if no such
I/O port exists.</p>
</dd>
</dl>
</section>
<section id="id7">
<h3>Methods<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>port:read()</dt><dd><p>Read the current input value.  Returns a 32-bit integer.</p>
</dd>
<dt>port:write(value, mask)</dt><dd><p>Write to the I/O port output fields that are set in the specified mask.  The
value and mask must be 32-bit integers.  Note that this does not set values
for input fields.</p>
</dd>
<dt>port:field(mask)</dt><dd><p>Get the first <a class="reference internal" href="#luascript-ref-ioportfield"><span class="std std-ref">I/O port field</span></a>
corresponding to the bits that are set in the specified mask, or <code class="docutils literal notranslate"><span class="pre">nil</span></code> if
there is no corresponding field.</p>
</dd>
</dl>
</section>
<section id="id8">
<h3>Properties<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>port.device (read-only)</dt><dd><p>The device that owns the I/O port.</p>
</dd>
<dt>port.tag (read-only)</dt><dd><p>The absolute tag of the I/O port</p>
</dd>
<dt>port.active (read-only)</dt><dd><p>A mask indicating which bits of the I/O port correspond to active fields
(i.e. not unused or unassigned bits).</p>
</dd>
<dt>port.live (read-only)</dt><dd><p>The live state of the I/O port.</p>
</dd>
<dt>port.fields[] (read-only)</dt><dd><p>Gets a table of <a class="reference internal" href="#luascript-ref-ioportfield"><span class="std std-ref">fields</span></a> indexed by name.</p>
</dd>
</dl>
</section>
</section>
<section id="i-o-port-field">
<span id="luascript-ref-ioportfield"></span><h2><a class="toc-backref" href="#id40" role="doc-backlink">I/O port field</a><a class="headerlink" href="#i-o-port-field" title="Link to this heading">¶</a></h2>
<p>Wraps MAME’s <code class="docutils literal notranslate"><span class="pre">ioport_field</span></code> class, representing a field within an I/O port.</p>
<section id="id9">
<h3>Instantiation<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>manager.machine.ioport.ports[tag]:field(mask)</dt><dd><p>Gets a field for the given port by bit mask.</p>
</dd>
<dt>manager.machine.ioport.ports[tag].fields[name]</dt><dd><p>Gets a field for the given port by display name.</p>
</dd>
</dl>
</section>
<section id="id10">
<h3>Methods<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>field:set_value(value)</dt><dd><p>Set the value of the I/O port field.  For digital fields, the value is
compared to zero to determine whether the field should be active; for
analog fields, the value must be right-aligned and in the correct range.</p>
</dd>
<dt>field:clear_value()</dt><dd><p>Clear programmatically overridden value and restore the field’s regular
behaviour.</p>
</dd>
<dt>field:set_sensitivity(sensitivity)</dt><dd><p>Set the sensitivity or gain for analog fields.  Raises an error for digital
fields.</p>
</dd>
<dt>field:set_keydelta(sensitivity)</dt><dd><p>Set the sensitivity to corresponding digital increment/decrement inputs for
analog fields.  Raises an error for digital fields.</p>
</dd>
<dt>field:set_centerdelta(sensitivity)</dt><dd><p>Set the speed at which non-wrapping analog fields return to their default
values after associated digital increment/decrement inputs are released.
Raises an error for digital fields and wrapping analog fields.</p>
</dd>
<dt>field:set_analog_reverse(reverse)</dt><dd><p>Set whether an analog field’s value increases in the opposite direction to
the convention (e.g. larger values when a pedal is released or a joystick is
moved to the left).  Raises an error for digital fields.</p>
</dd>
<dt>field:set_input_seq(seqtype, seq)</dt><dd><p>Set the <a class="reference internal" href="#luascript-ref-inputseq"><span class="std std-ref">input sequence</span></a> for the specified
sequence type.  This is used to configure per-machine input settings.  The
sequence type must be <code class="docutils literal notranslate"><span class="pre">&quot;standard&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;increment&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;decrement&quot;</span></code>.</p>
</dd>
<dt>field:input_seq(seq_type)</dt><dd><p>Get the configured <a class="reference internal" href="#luascript-ref-inputseq"><span class="std std-ref">input sequence</span></a> for the
specified sequence type.  This gets per-machine input assignments.  The
sequence type must be <code class="docutils literal notranslate"><span class="pre">&quot;standard&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;increment&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;decrement&quot;</span></code>.</p>
</dd>
<dt>field:set_default_input_seq(seq_type, seq)</dt><dd><p>Set the default <a class="reference internal" href="#luascript-ref-inputseq"><span class="std std-ref">input sequence</span></a> for the
specified sequence type.  This overrides the default input assignment for a
specific input.  The sequence type must be <code class="docutils literal notranslate"><span class="pre">&quot;standard&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;increment&quot;</span></code>
or <code class="docutils literal notranslate"><span class="pre">&quot;decrement&quot;</span></code>.</p>
</dd>
<dt>field:default_input_seq(seq_type)</dt><dd><p>Gets the default <a class="reference internal" href="#luascript-ref-inputseq"><span class="std std-ref">input sequence</span></a> for the
specified sequence type.  If the default assignment is not overridden, this
returns the general input assignment for the field’s input type.  The
sequence type must be <code class="docutils literal notranslate"><span class="pre">&quot;standard&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;increment&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;decrement&quot;</span></code>.</p>
</dd>
<dt>field:keyboard_codes(shift)</dt><dd><p>Gets a table of characters corresponding to the field for the specified
shift state.  The shift state is a bit mask of active shift keys.</p>
</dd>
</dl>
</section>
<section id="id11">
<h3>Properties<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>field.device (read-only)</dt><dd><p>The device that owns the port that the field belongs to.</p>
</dd>
<dt>field.port (read-only)</dt><dd><p>The <a class="reference internal" href="#luascript-ref-ioport"><span class="std std-ref">I/O port</span></a> that the field belongs to.</p>
</dd>
<dt>field.live (read-only)</dt><dd><p>The <a class="reference internal" href="#luascript-ref-ioportfieldlive"><span class="std std-ref">live state</span></a> of the field.</p>
</dd>
<dt>field.type (read-only)</dt><dd><p>The input type of the field.  This is an enumerated value.</p>
</dd>
<dt>field.name (read-only)</dt><dd><p>The display name for the field.</p>
</dd>
<dt>field.default_name (read-only)</dt><dd><p>The name for the field from the emulated system’s configuration (cannot be
overridden by scripts or plugins).</p>
</dd>
<dt>field.player (read-only)</dt><dd><p>Zero-based player number for the field.</p>
</dd>
<dt>field.mask (read-only)</dt><dd><p>Bits in the I/O port corresponding to this field.</p>
</dd>
<dt>field.defvalue (read-only)</dt><dd><p>The field’s default value.</p>
</dd>
<dt>field.minvalue (read-only)</dt><dd><p>The minimum allowed value for analog fields, or <code class="docutils literal notranslate"><span class="pre">nil</span></code> for digital fields.</p>
</dd>
<dt>field.maxvalue (read-only)</dt><dd><p>The maximum allowed value for analog fields, or <code class="docutils literal notranslate"><span class="pre">nil</span></code> for digital fields.</p>
</dd>
<dt>field.sensitivity (read-only)</dt><dd><p>The sensitivity or gain for analog fields, or <code class="docutils literal notranslate"><span class="pre">nil</span></code> for digital fields.</p>
</dd>
<dt>field.default_sensitivity (read-only)</dt><dd><p>The default sensitivity or gain for analog fields, or <code class="docutils literal notranslate"><span class="pre">nil</span></code> for digital
fields.</p>
</dd>
<dt>field.keydelta (read-only)</dt><dd><p>The sensitivity to corresponding digital increment/decrement inputs for
analog fields, or <code class="docutils literal notranslate"><span class="pre">nil</span></code> for digital fields.</p>
</dd>
<dt>field.default_keydelta (read-only)</dt><dd><p>The default sensitivity to corresponding digital increment/decrement inputs
for analog fields, or <code class="docutils literal notranslate"><span class="pre">nil</span></code> for digital fields.</p>
</dd>
<dt>field.centerdelta (read-only)</dt><dd><p>The speed at which non-wrapping analog fields return to their default values
after associated digital increment/decrement inputs are released, or <code class="docutils literal notranslate"><span class="pre">nil</span></code>
for digital fields and wrapping analog fields.</p>
</dd>
<dt>field.default_centerdelta (read-only)</dt><dd><p>The default speed at which non-wrapping analog fields return to their
default values after associated digital increment/decrement inputs are
released, or <code class="docutils literal notranslate"><span class="pre">nil</span></code> for digital fields and wrapping analog fields.</p>
</dd>
<dt>field.analog_reverse (read-only)</dt><dd><p>A Boolean indicating whether the value increases in the opposite direction
to the convention for analog fields (e.g. larger values when a pedal is
released or a joystick is moved to the left), or <code class="docutils literal notranslate"><span class="pre">nil</span></code> for digital fields.</p>
</dd>
<dt>field.default_analog_reverse (read-only)</dt><dd><p>A Boolean indicating whether the value increases in the opposite direction
to the convention by default for analog fields (e.g. larger values when a
pedal is released or a joystick is moved to the left), or <code class="docutils literal notranslate"><span class="pre">nil</span></code> for
digital fields.</p>
</dd>
<dt>field.way (read-only)</dt><dd><p>The number of directions allowed by the restrictor plate/gate for a digital
joystick, or zero (0) for other inputs.</p>
</dd>
<dt>field.type_class (read-only)</dt><dd><p>The type class for the input field – one of <code class="docutils literal notranslate"><span class="pre">&quot;keyboard&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;controller&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;config&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;dipswitch&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;misc&quot;</span></code>.</p>
</dd>
<dt>field.is_analog (read-only)</dt><dd><p>A Boolean indicating whether the field is an analog axis or positional
control.</p>
</dd>
<dt>field.is_digital_joystick (read-only)</dt><dd><p>A Boolean indicating whether the field corresponds to a digital joystick
switch.</p>
</dd>
<dt>field.enabled (read-only)</dt><dd><p>A Boolean indicating whether the field is enabled.</p>
</dd>
<dt>field.cocktail (read-only)</dt><dd><p>A Boolean indicating whether the field is only used when the system is
configured for a cocktail table cabinet.</p>
</dd>
<dt>field.toggle (read-only)</dt><dd><p>A Boolean indicating whether the field corresponds to a hardware toggle
switch or push-on, push-off button.</p>
</dd>
<dt>field.analog_reset (read-only)</dt><dd><p>A Boolean indicating whether the field corresponds to an incremental
position input (e.g. a dial or trackball axis) that should be reset to zero
for every video frame.</p>
</dd>
<dt>field.analog_wraps (read-only)</dt><dd><p>A Boolean indicating whether the field corresponds to an analog input that
wraps from one end of its range to the other (e.g. an incremental position
input like a dial or trackball axis).</p>
</dd>
<dt>field.analog_invert (read-only)</dt><dd><p>A Boolean indicating whether the field corresponds to an analog input that
has its value ones-complemented.</p>
</dd>
<dt>field.impulse (read-only)</dt><dd><p>A Boolean indicating whether the field corresponds to a digital input that
activates for a fixed amount of time.</p>
</dd>
<dt>field.crosshair_scale (read-only)</dt><dd><p>The scale factor for translating the field’s range to crosshair position.  A
value of one (1) translates the field’s full range to the full width or
height the screen.</p>
</dd>
<dt>field.crosshair_offset (read-only)</dt><dd><p>The offset for translating the field’s range to crosshair position.</p>
</dd>
<dt>field.user_value (read/write)</dt><dd><p>The value for DIP switch or configuration settings.</p>
</dd>
<dt>field.settings[] (read-only)</dt><dd><p>Gets a table of the currently enabled settings for a DIP switch or
configuration field, indexed by value.</p>
</dd>
</dl>
</section>
</section>
<section id="live-i-o-port-field-state">
<span id="luascript-ref-ioportfieldlive"></span><h2><a class="toc-backref" href="#id41" role="doc-backlink">Live I/O port field state</a><a class="headerlink" href="#live-i-o-port-field-state" title="Link to this heading">¶</a></h2>
<p>Wraps MAME’s <code class="docutils literal notranslate"><span class="pre">ioport_field_live</span></code> class, representing the live state of an I/O
port field.</p>
<section id="id12">
<h3>Instantiation<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>manager.machine.ioport.ports[tag]:field(mask).live</dt><dd><p>Gets the live state for an I/O port field.</p>
</dd>
</dl>
</section>
<section id="id13">
<h3>Properties<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>live.name</dt><dd><p>Display name for the field.</p>
</dd>
</dl>
</section>
</section>
<section id="input-type">
<span id="luascript-ref-inputtype"></span><h2><a class="toc-backref" href="#id42" role="doc-backlink">Input type</a><a class="headerlink" href="#input-type" title="Link to this heading">¶</a></h2>
<p>Wraps MAME’s <code class="docutils literal notranslate"><span class="pre">input_type_entry</span></code> class, representing an emulated input type or
emulator UI input type.  Input types are uniquely identified by the combination
of their enumerated type value and player index.</p>
<section id="id14">
<h3>Instantiation<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>manager.machine.ioport.types[index]</dt><dd><p>Gets a supported input type.</p>
</dd>
</dl>
</section>
<section id="id15">
<h3>Properties<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>type.type (read-only)</dt><dd><p>An enumerated value representing the type of input.</p>
</dd>
<dt>type.group (read-only)</dt><dd><p>An integer giving the grouping for the input type.  Should be used to
provide canonical grouping in an input configuration UI.</p>
</dd>
<dt>type.player (read-only)</dt><dd><p>The zero-based player number, or zero for non-player controls.</p>
</dd>
<dt>type.token (read-only)</dt><dd><p>The token string for the input type, used in configuration files.</p>
</dd>
<dt>type.name (read-only)</dt><dd><p>The display name for the input type.</p>
</dd>
<dt>type.is_analog (read-only)</dt><dd><p>A Boolean indicating whether the input type is analog or digital.  Inputs
that only have on and off states are considered digital, while all other
inputs are considered analog, even if they can only represent discrete
values or positions.</p>
</dd>
</dl>
</section>
</section>
<section id="input-manager">
<span id="luascript-ref-inputman"></span><h2><a class="toc-backref" href="#id43" role="doc-backlink">Input manager</a><a class="headerlink" href="#input-manager" title="Link to this heading">¶</a></h2>
<p>Wraps MAME’s <code class="docutils literal notranslate"><span class="pre">input_manager</span></code> class, which reads host input devices and checks
whether configured inputs are active.</p>
<section id="id16">
<h3>Instantiation<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>manager.machine.input</dt><dd><p>Gets the global input manager instance for the emulated system.</p>
</dd>
</dl>
</section>
<section id="id17">
<h3>Methods<a class="headerlink" href="#id17" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>input:code_value(code)</dt><dd><p>Gets the current value for the host input corresponding to the specified
code.  Returns a signed integer value, where zero is the neutral position.</p>
</dd>
<dt>input:code_pressed(code)</dt><dd><p>Returns a Boolean indicating whether the host input corresponding to the
specified code has a non-zero value (i.e. it is not in the neutral
position).</p>
</dd>
<dt>input:code_pressed_once(code)</dt><dd><p>Returns a Boolean indicating whether the host input corresponding to the
specified code has moved away from the neutral position since the last time
it was checked using this function.  The input manager can track a limited
number of inputs this way.</p>
</dd>
<dt>input:code_name(code)</dt><dd><p>Get display name for an input code.</p>
</dd>
<dt>input:code_to_token(code)</dt><dd><p>Get token string for an input code.  This should be used when saving
configuration.</p>
</dd>
<dt>input:code_from_token(token)</dt><dd><p>Convert a token string to an input code.  Returns the invalid input code if
the token is not valid or belongs to an input device that is not present.</p>
</dd>
<dt>input:seq_pressed(seq)</dt><dd><p>Returns a Boolean indicating whether the supplied
<a class="reference internal" href="#luascript-ref-inputseq"><span class="std std-ref">input sequence</span></a> is currently pressed.</p>
</dd>
<dt>input:seq_clean(seq)</dt><dd><p>Remove invalid elements from the supplied
<a class="reference internal" href="#luascript-ref-inputseq"><span class="std std-ref">input sequence</span></a>.  Returns the new, cleaned
input sequence.</p>
</dd>
<dt>input:seq_name(seq)</dt><dd><p>Get display text for an <a class="reference internal" href="#luascript-ref-inputseq"><span class="std std-ref">input sequence</span></a>.</p>
</dd>
<dt>input:seq_to_tokens(seq)</dt><dd><p>Convert an <a class="reference internal" href="#luascript-ref-inputseq"><span class="std std-ref">input sequence</span></a> to a token string.
This should be used when saving configuration.</p>
</dd>
<dt>input:seq_from_tokens(tokens)</dt><dd><p>Convert a token string to an
<a class="reference internal" href="#luascript-ref-inputseq"><span class="std std-ref">input sequence</span></a>.  This should be used when
loading configuration.</p>
</dd>
<dt>input:axis_code_poller()</dt><dd><p>Returns an <a class="reference internal" href="#luascript-ref-inputcodepoll"><span class="std std-ref">input code poller</span></a> for
obtaining an analog host input code.</p>
</dd>
<dt>input:switch_code_poller()</dt><dd><p>Returns an <a class="reference internal" href="#luascript-ref-inputcodepoll"><span class="std std-ref">input code poller</span></a> for
obtaining a host switch input code.</p>
</dd>
<dt>input:keyboard_code_poller()</dt><dd><p>Returns an <a class="reference internal" href="#luascript-ref-inputcodepoll"><span class="std std-ref">input code poller</span></a> for
obtaining a host switch input code that only considers keyboard input
devices.</p>
</dd>
<dt>input:axis_sequence_poller()</dt><dd><p>Returns an <a class="reference internal" href="#luascript-ref-inputseqpoll"><span class="std std-ref">input sequence poller</span></a> for
obtaining an <a class="reference internal" href="#luascript-ref-inputseq"><span class="std std-ref">input sequence</span></a> for configuring
an analog input assignment.</p>
</dd>
<dt>input:axis_sequence_poller()</dt><dd><p>Returns an <a class="reference internal" href="#luascript-ref-inputseqpoll"><span class="std std-ref">input sequence poller</span></a> for
obtaining an <a class="reference internal" href="#luascript-ref-inputseq"><span class="std std-ref">input sequence</span></a> for configuring
a digital input assignment.</p>
</dd>
</dl>
</section>
<section id="id18">
<h3>Properties<a class="headerlink" href="#id18" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>input.device_classes[] (read-only)</dt><dd><p>Gets a table of host
<a class="reference internal" href="#luascript-ref-inputdevclass"><span class="std std-ref">input device classes</span></a> indexed by name.</p>
</dd>
</dl>
</section>
</section>
<section id="input-code-poller">
<span id="luascript-ref-inputcodepoll"></span><h2><a class="toc-backref" href="#id44" role="doc-backlink">Input code poller</a><a class="headerlink" href="#input-code-poller" title="Link to this heading">¶</a></h2>
<p>Wraps MAME’s <code class="docutils literal notranslate"><span class="pre">input_code_poller</span></code> class, used to poll for host inputs being
activated.</p>
<section id="id19">
<h3>Instantiation<a class="headerlink" href="#id19" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>manager.machine.input:axis_code_poller()</dt><dd><p>Returns an input code poller that polls for analog inputs being activated.</p>
</dd>
<dt>manager.machine.input:switch_code_poller()</dt><dd><p>Returns an input code poller that polls for host switch inputs being
activated.</p>
</dd>
<dt>manager.machine.input:keyboard_code_poller()</dt><dd><p>Returns an input code poller that polls for host switch inputs being
activated, only considering keyboard input devices.</p>
</dd>
</dl>
</section>
<section id="id20">
<h3>Methods<a class="headerlink" href="#id20" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>poller:reset()</dt><dd><p>Resets the polling logic.  Active switch inputs are cleared and initial
analog input positions are set.</p>
</dd>
<dt>poller:poll()</dt><dd><p>Returns an input code corresponding to the first relevant host input that
has been activated since the last time the method was called.  Returns the
invalid input code if no relevant input has been activated.</p>
</dd>
</dl>
</section>
</section>
<section id="input-sequence-poller">
<span id="luascript-ref-inputseqpoll"></span><h2><a class="toc-backref" href="#id45" role="doc-backlink">Input sequence poller</a><a class="headerlink" href="#input-sequence-poller" title="Link to this heading">¶</a></h2>
<p>Wraps MAME’s <code class="docutils literal notranslate"><span class="pre">input_sequence_poller</span></code> poller class, which allows users to
assign host input combinations to emulated inputs and other actions.</p>
<section id="id21">
<h3>Instantiation<a class="headerlink" href="#id21" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>manager.machine.input:axis_sequence_poller()</dt><dd><p>Returns an input sequence poller for assigning host inputs to an analog
input.</p>
</dd>
<dt>manager.machine.input:switch_sequence_poller()</dt><dd><p>Returns an input sequence poller for assigning host inputs to a switch
input.</p>
</dd>
</dl>
</section>
<section id="id22">
<h3>Methods<a class="headerlink" href="#id22" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>poller:start([seq])</dt><dd><p>Start polling.  If a sequence is supplied, it is used as a starting
sequence: for analog inputs, the user can cycle between the full range, and
the positive and negative portions of an axis; for switch inputs, an “or”
code is appended and the user can add an alternate host input combination.</p>
</dd>
<dt>poller:poll()</dt><dd><p>Polls for user input and updates the sequence if appropriate.  Returns a
Boolean indicating whether sequence input is complete.  If this method
returns false, you should continue polling.</p>
</dd>
</dl>
</section>
<section id="id23">
<h3>Properties<a class="headerlink" href="#id23" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>poller.sequence (read-only)</dt><dd><p>The current <a class="reference internal" href="#luascript-ref-inputseq"><span class="std std-ref">input sequence</span></a>.  This is updated
while polling.  It is possible for the sequence to become invalid.</p>
</dd>
<dt>poller.valid (read-only)</dt><dd><p>A Boolean indicating whether the current input sequence is valid.</p>
</dd>
<dt>poller.modified (read-only)</dt><dd><p>A Boolean indicating whether the sequence was changed by any user input
since starting polling.</p>
</dd>
</dl>
</section>
</section>
<section id="input-sequence">
<span id="luascript-ref-inputseq"></span><h2><a class="toc-backref" href="#id46" role="doc-backlink">Input sequence</a><a class="headerlink" href="#input-sequence" title="Link to this heading">¶</a></h2>
<p>Wraps MAME’s <code class="docutils literal notranslate"><span class="pre">input_seq</span></code> class, representing a combination of host inputs that
can be read or assigned to an emulated input.  Input sequences can be
manipulated using <a class="reference internal" href="#luascript-ref-inputman"><span class="std std-ref">input manager</span></a> methods.  Use an
<a class="reference internal" href="#luascript-ref-inputseqpoll"><span class="std std-ref">input sequence poller</span></a> to obtain an input
sequence from the user.</p>
<section id="id24">
<h3>Instantiation<a class="headerlink" href="#id24" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>emu.input_seq()</dt><dd><p>Creates an empty input sequence.</p>
</dd>
<dt>emu.input_seq(seq)</dt><dd><p>Creates a copy of an existing input sequence.</p>
</dd>
</dl>
</section>
<section id="id25">
<h3>Methods<a class="headerlink" href="#id25" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>seq:reset()</dt><dd><p>Clears the input sequence, removing all items.</p>
</dd>
<dt>seq:set_default()</dt><dd><p>Sets the input sequence to a single item containing the metavalue specifying
that the default setting should be used.</p>
</dd>
</dl>
</section>
<section id="id26">
<h3>Properties<a class="headerlink" href="#id26" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>seq.empty (read-only)</dt><dd><p>A Boolean indicating whether the input sequence is empty (contains no items,
indicating an unassigned input).</p>
</dd>
<dt>seq.length (read-only)</dt><dd><p>The number of items in the input sequence.</p>
</dd>
<dt>seq.is_valid (read-only)</dt><dd><p>A Boolean indicating whether the input sequence is a valid.  To be valid, it
must contain at least one item, all items must be valid codes, all product
groups must contain at least one item that is not negated, and items
referring to absolute and relative axes must not be mixed within a product
group.</p>
</dd>
<dt>seq.is_default (read-only)</dt><dd><p>A Boolean indicating whether the input sequence specifies that the default
setting should be used.</p>
</dd>
</dl>
</section>
</section>
<section id="host-input-device-class">
<span id="luascript-ref-inputdevclass"></span><h2><a class="toc-backref" href="#id47" role="doc-backlink">Host input device class</a><a class="headerlink" href="#host-input-device-class" title="Link to this heading">¶</a></h2>
<p>Wraps MAME’s <code class="docutils literal notranslate"><span class="pre">input_class</span></code> class, representing a category of host input
devices (e.g. keyboards or joysticks).</p>
<section id="id27">
<h3>Instantiation<a class="headerlink" href="#id27" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>manager.machine.input.device_classes[name]</dt><dd><p>Gets an input device class by name.</p>
</dd>
</dl>
</section>
<section id="id28">
<h3>Properties<a class="headerlink" href="#id28" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>devclass.name (read-only)</dt><dd><p>The device class name.</p>
</dd>
<dt>devclass.enabled (read-only)</dt><dd><p>A Boolean indicating whether the device class is enabled.</p>
</dd>
<dt>devclass.multi (read-only)</dt><dd><p>A Boolean indicating whether the device class supports multiple devices, or
inputs from all devices in the class are combined and treated as a single
device.</p>
</dd>
<dt>devclass.devices[] (read-only)</dt><dd><p>Gets a table of <a class="reference internal" href="#luascript-ref-inputdev"><span class="std std-ref">host input devices</span></a> in the
class.  Keys are one-based indices.</p>
</dd>
</dl>
</section>
</section>
<section id="host-input-device">
<span id="luascript-ref-inputdev"></span><h2><a class="toc-backref" href="#id48" role="doc-backlink">Host input device</a><a class="headerlink" href="#host-input-device" title="Link to this heading">¶</a></h2>
<p>Wraps MAME’s <code class="docutils literal notranslate"><span class="pre">input_device</span></code> class, representing a host input device.</p>
<section id="id29">
<h3>Instantiation<a class="headerlink" href="#id29" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>manager.machine.input.device_classes[name].devices[index]</dt><dd><p>Gets a specific host input device.</p>
</dd>
</dl>
</section>
<section id="id30">
<h3>Properties<a class="headerlink" href="#id30" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>inputdev.name (read-only)</dt><dd><p>Display name for the device.  This is not guaranteed to be unique.</p>
</dd>
<dt>inputdev.id (read-only)</dt><dd><p>Unique identifier string for the device.  This may not be human-readable.</p>
</dd>
<dt>inputdev.devindex (read-only)</dt><dd><p>Device index within the device class.  This is not necessarily the same as
the index in the <code class="docutils literal notranslate"><span class="pre">devices</span></code> property of the device class – the <code class="docutils literal notranslate"><span class="pre">devindex</span></code>
indices may not be contiguous.</p>
</dd>
<dt>inputdev.items (read-only)</dt><dd><p>Gets a table of <a class="reference internal" href="#luascript-ref-inputdevitem"><span class="std std-ref">input items</span></a>, indexed
by item ID.  The item ID is an enumerated value.</p>
</dd>
</dl>
</section>
</section>
<section id="host-input-device-item">
<span id="luascript-ref-inputdevitem"></span><h2><a class="toc-backref" href="#id49" role="doc-backlink">Host input device item</a><a class="headerlink" href="#host-input-device-item" title="Link to this heading">¶</a></h2>
<p>Wraps MAME’s <code class="docutils literal notranslate"><span class="pre">input_device_item</span></code> class, representing a single host input (e.g.
a key, button, or axis).</p>
<section id="id31">
<h3>Instantiation<a class="headerlink" href="#id31" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>manager.machine.input.device_classes[name].devices[index].items[id]</dt><dd><p>Gets an individual host input item.  The item ID is an enumerated value.</p>
</dd>
</dl>
</section>
<section id="id32">
<h3>Properties<a class="headerlink" href="#id32" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>item.name (read-only)</dt><dd><p>The display name of the input item.  Note that this is just the name of the
item itself, and does not include the device name.  The full display name
for the item can be obtained by calling the <code class="docutils literal notranslate"><span class="pre">code_name</span></code> method on the
<a class="reference internal" href="#luascript-ref-inputman"><span class="std std-ref">input manager</span></a> with the item’s code.</p>
</dd>
<dt>item.code (read-only)</dt><dd><p>The input item’s identification code.  This is used by several
<a class="reference internal" href="#luascript-ref-inputman"><span class="std std-ref">input manager</span></a> methods.</p>
</dd>
<dt>item.token (read-only)</dt><dd><p>The input item’s token string.  Note that this is a token fragment for the
item itself, and does not include the device portion.  The full token for
the item can be obtained by calling the <code class="docutils literal notranslate"><span class="pre">code_to_token</span></code> method on the
<a class="reference internal" href="#luascript-ref-inputman"><span class="std std-ref">input manager</span></a> with the item’s code.</p>
</dd>
<dt>item.current (read-only)</dt><dd><p>The item’s current value.  This is a signed integer where zero is the
neutral position.</p>
</dd>
</dl>
</section>
</section>
<section id="ui-input-manager">
<span id="luascript-ref-uiinputman"></span><h2><a class="toc-backref" href="#id50" role="doc-backlink">UI input manager</a><a class="headerlink" href="#ui-input-manager" title="Link to this heading">¶</a></h2>
<p>Wraps MAME’s <code class="docutils literal notranslate"><span class="pre">ui_input_manager</span></code> class, which is used for high-level input.</p>
<section id="id33">
<h3>Instantiation<a class="headerlink" href="#id33" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>manager.machine.uiinput</dt><dd><p>Gets the global UI input manager instance for the machine.</p>
</dd>
</dl>
</section>
<section id="id34">
<h3>Methods<a class="headerlink" href="#id34" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>uiinput:reset()</dt><dd><p>Clears pending events and UI input states.  Should be called when leaving a
modal state where input is handled directly (e.g. configuring an input
combination).</p>
</dd>
<dt>uiinput:pressed(type)</dt><dd><p>Returns a Boolean indicating whether the specified UI input has been
pressed.  The input type is an enumerated value.</p>
</dd>
<dt>uiinput:pressed_repeat(type, speed)</dt><dd><p>Returns a Boolean indicating whether the specified UI input has been
pressed or auto-repeat has been triggered at the specified speed.  The input
type is an enumerated value; the speed is an interval in sixtieths of a
second.</p>
</dd>
</dl>
</section>
<section id="id35">
<h3>Properties<a class="headerlink" href="#id35" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>uiinput.presses_enabled (read/write)</dt><dd><p>Whether the UI input manager will check for UI inputs frame updates.</p>
</dd>
</dl>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ref-mem.html" class="btn btn-neutral float-left" title="Lua Memory System Classes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ref-render.html" class="btn btn-neutral float-right" title="Lua Render System Classes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 1997-2025, MAMEdev and contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>