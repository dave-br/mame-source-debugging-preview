<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UML Instruction Reference &mdash; MAME Documentation 0.284 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/documentation_options.js?v=14647ab7"></script>
        <script src="../_static/doctools.js?v=9bcbadda"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Software 3D Rendering in MAME" href="poly_manager.html" />
    <link rel="prev" title="The new 6502 family implementation" href="m6502.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            MAME Documentation
          </a>
              <div class="version">
                0.284
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../whatis.html">What is MAME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../healthwarning.html">Health Warnings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../initialsetup/index.html">Getting MAME prepared</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usingmame/index.html">Basic MAME Usage and Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commandline/index.html">MAME Command-line Usage and OS-Specific Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/index.html">Advanced configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../debugger/index.html">MAME Debugger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../luascript/index.html">Lua Scripting Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">MAME External Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing to MAME</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Technical Specifications</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="naming.html">MAME Naming Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="layout_files.html">MAME Layout Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="layout_script.html">MAME Layout Scripting</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_finders.html">Object Finders</a></li>
<li class="toctree-l2"><a class="reference internal" href="inputsystem.html">Input System</a></li>
<li class="toctree-l2"><a class="reference internal" href="device_memory_interface.html">The device_memory_interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="device_rom_interface.html">The device_rom_interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="device_disasm_interface.html">The device_disasm_interface and the disassemblers</a></li>
<li class="toctree-l2"><a class="reference internal" href="device_sound_interface.html">The device_sound_interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory.html">Emulated system memory and address spaces management</a></li>
<li class="toctree-l2"><a class="reference internal" href="cpu_device.html">CPU devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="floppy.html">The new floppy subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="nscsi.html">The new SCSI subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="m6502.html">The new 6502 family implementation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">UML Instruction Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="poly_manager.html">Software 3D Rendering in MAME</a></li>
<li class="toctree-l2"><a class="reference internal" href="audio_effects.html">Audio effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="osd_audio.html">OSD audio support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">MAME and security concerns</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">The MAME License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MAME Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Technical Specifications</a></li>
      <li class="breadcrumb-item active">UML Instruction Reference</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="uml-instruction-reference">
<span id="umlinst"></span><h1>UML Instruction Reference<a class="headerlink" href="#uml-instruction-reference" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id213">Introduction</a></p></li>
<li><p><a class="reference internal" href="#special-value-types" id="id214">Special value types</a></p>
<ul>
<li><p><a class="reference internal" href="#conditions" id="id215">Conditions</a></p></li>
<li><p><a class="reference internal" href="#flag-masks" id="id216">Flag masks</a></p></li>
<li><p><a class="reference internal" href="#floating-point-rounding-modes" id="id217">Floating point rounding modes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#flow-control" id="id218">Flow control</a></p>
<ul>
<li><p><a class="reference internal" href="#comment" id="id219">COMMENT</a></p></li>
<li><p><a class="reference internal" href="#nop" id="id220">NOP</a></p></li>
<li><p><a class="reference internal" href="#label" id="id221">LABEL</a></p></li>
<li><p><a class="reference internal" href="#handle" id="id222">HANDLE</a></p></li>
<li><p><a class="reference internal" href="#hash" id="id223">HASH</a></p></li>
<li><p><a class="reference internal" href="#jmp" id="id224">JMP</a></p></li>
<li><p><a class="reference internal" href="#callh" id="id225">CALLH</a></p></li>
<li><p><a class="reference internal" href="#exh" id="id226">EXH</a></p></li>
<li><p><a class="reference internal" href="#ret" id="id227">RET</a></p></li>
<li><p><a class="reference internal" href="#hashjmp" id="id228">HASHJMP</a></p></li>
<li><p><a class="reference internal" href="#exit" id="id229">EXIT</a></p></li>
<li><p><a class="reference internal" href="#callc" id="id230">CALLC</a></p></li>
<li><p><a class="reference internal" href="#debug" id="id231">DEBUG</a></p></li>
<li><p><a class="reference internal" href="#break" id="id232">BREAK</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#status-and-control" id="id233">Status and control</a></p>
<ul>
<li><p><a class="reference internal" href="#set" id="id234">SET</a></p></li>
<li><p><a class="reference internal" href="#carry" id="id235">CARRY</a></p></li>
<li><p><a class="reference internal" href="#setflgs" id="id236">SETFLGS</a></p></li>
<li><p><a class="reference internal" href="#getflgs" id="id237">GETFLGS</a></p></li>
<li><p><a class="reference internal" href="#setfmod" id="id238">SETFMOD</a></p></li>
<li><p><a class="reference internal" href="#getfmod" id="id239">GETFMOD</a></p></li>
<li><p><a class="reference internal" href="#restore" id="id240">RESTORE</a></p></li>
<li><p><a class="reference internal" href="#save" id="id241">SAVE</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#data-movement" id="id242">Data movement</a></p>
<ul>
<li><p><a class="reference internal" href="#mov" id="id243">MOV</a></p></li>
<li><p><a class="reference internal" href="#fmov" id="id244">FMOV</a></p></li>
<li><p><a class="reference internal" href="#fcopyi" id="id245">FCOPYI</a></p></li>
<li><p><a class="reference internal" href="#icopyf" id="id246">ICOPYF</a></p></li>
<li><p><a class="reference internal" href="#load" id="id247">LOAD</a></p></li>
<li><p><a class="reference internal" href="#loads" id="id248">LOADS</a></p></li>
<li><p><a class="reference internal" href="#store" id="id249">STORE</a></p></li>
<li><p><a class="reference internal" href="#fload" id="id250">FLOAD</a></p></li>
<li><p><a class="reference internal" href="#fstore" id="id251">FSTORE</a></p></li>
<li><p><a class="reference internal" href="#getexp" id="id252">GETEXP</a></p></li>
<li><p><a class="reference internal" href="#mapvar" id="id253">MAPVAR</a></p></li>
<li><p><a class="reference internal" href="#recover" id="id254">RECOVER</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#emulated-memory-access" id="id255">Emulated memory access</a></p>
<ul>
<li><p><a class="reference internal" href="#read" id="id256">READ</a></p></li>
<li><p><a class="reference internal" href="#readm" id="id257">READM</a></p></li>
<li><p><a class="reference internal" href="#write" id="id258">WRITE</a></p></li>
<li><p><a class="reference internal" href="#writem" id="id259">WRITEM</a></p></li>
<li><p><a class="reference internal" href="#fread" id="id260">FREAD</a></p></li>
<li><p><a class="reference internal" href="#fwrite" id="id261">FWRITE</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#integer-arithmetic-and-logic" id="id262">Integer arithmetic and logic</a></p>
<ul>
<li><p><a class="reference internal" href="#add" id="id263">ADD</a></p></li>
<li><p><a class="reference internal" href="#addc" id="id264">ADDC</a></p></li>
<li><p><a class="reference internal" href="#sub" id="id265">SUB</a></p></li>
<li><p><a class="reference internal" href="#subb" id="id266">SUBB</a></p></li>
<li><p><a class="reference internal" href="#cmp" id="id267">CMP</a></p></li>
<li><p><a class="reference internal" href="#and" id="id268">AND</a></p></li>
<li><p><a class="reference internal" href="#test" id="id269">TEST</a></p></li>
<li><p><a class="reference internal" href="#or" id="id270">OR</a></p></li>
<li><p><a class="reference internal" href="#xor" id="id271">XOR</a></p></li>
<li><p><a class="reference internal" href="#sext" id="id272">SEXT</a></p></li>
<li><p><a class="reference internal" href="#lzcnt" id="id273">LZCNT</a></p></li>
<li><p><a class="reference internal" href="#tzcnt" id="id274">TZCNT</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#integer-multiply-and-divide" id="id275">Integer multiply and divide</a></p>
<ul>
<li><p><a class="reference internal" href="#mullw" id="id276">MULLW</a></p></li>
<li><p><a class="reference internal" href="#mul" id="id277">MUL</a></p></li>
<li><p><a class="reference internal" href="#div" id="id278">DIV</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#integer-shift-and-rotate" id="id279">Integer shift and rotate</a></p>
<ul>
<li><p><a class="reference internal" href="#shl" id="id280">SHL</a></p></li>
<li><p><a class="reference internal" href="#shr" id="id281">SHR</a></p></li>
<li><p><a class="reference internal" href="#sar" id="id282">SAR</a></p></li>
<li><p><a class="reference internal" href="#rol" id="id283">ROL</a></p></li>
<li><p><a class="reference internal" href="#ror" id="id284">ROR</a></p></li>
<li><p><a class="reference internal" href="#rolc" id="id285">ROLC</a></p></li>
<li><p><a class="reference internal" href="#rorc" id="id286">RORC</a></p></li>
<li><p><a class="reference internal" href="#bfx" id="id287">BFX</a></p></li>
<li><p><a class="reference internal" href="#roland" id="id288">ROLAND</a></p></li>
<li><p><a class="reference internal" href="#rolins" id="id289">ROLINS</a></p></li>
<li><p><a class="reference internal" href="#bswap" id="id290">BSWAP</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#floating-point-arithmetic" id="id291">Floating point arithmetic</a></p>
<ul>
<li><p><a class="reference internal" href="#fadd" id="id292">FADD</a></p></li>
<li><p><a class="reference internal" href="#fsub" id="id293">FSUB</a></p></li>
<li><p><a class="reference internal" href="#fcmp" id="id294">FCMP</a></p></li>
<li><p><a class="reference internal" href="#fmul" id="id295">FMUL</a></p></li>
<li><p><a class="reference internal" href="#fdiv" id="id296">FDIV</a></p></li>
<li><p><a class="reference internal" href="#fneg" id="id297">FNEG</a></p></li>
<li><p><a class="reference internal" href="#fabs" id="id298">FABS</a></p></li>
<li><p><a class="reference internal" href="#fsqrt" id="id299">FSQRT</a></p></li>
<li><p><a class="reference internal" href="#frecip" id="id300">FRECIP</a></p></li>
<li><p><a class="reference internal" href="#frsqrt" id="id301">FRSQRT</a></p></li>
<li><p><a class="reference internal" href="#frnds" id="id302">FRNDS</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#floating-point-conversion" id="id303">Floating point conversion</a></p>
<ul>
<li><p><a class="reference internal" href="#ftoint" id="id304">FTOINT</a></p></li>
<li><p><a class="reference internal" href="#ffrint" id="id305">FFRINT</a></p></li>
<li><p><a class="reference internal" href="#ffrflt" id="id306">FFRFLT</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="introduction">
<span id="umlinst-intro"></span><h2><a class="toc-backref" href="#id213" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>UML is the instruction set used by MAME’s recompiler framework.
Code running on emulated guest CPUs is translated to UML instructions,
and back-ends convert the UML instructions to a form that can be
executed or interpreted on the host system.</p>
<p>Many UML instruction have multiple instruction sizes.  Integer
instructions default to 32-bit size.  Adding a <code class="docutils literal notranslate"><span class="pre">D</span></code> or <code class="docutils literal notranslate"><span class="pre">d</span></code> prefix to
the mnemonic changes to 64-bit size (double word).  Floating point
instructions use the mnemonic prefix/suffix <code class="docutils literal notranslate"><span class="pre">FS</span></code> or <code class="docutils literal notranslate"><span class="pre">fs</span></code> for
IEEE 754 32-bit format (single precision) or or the prefix/suffix <code class="docutils literal notranslate"><span class="pre">FD</span></code>
or <code class="docutils literal notranslate"><span class="pre">fd</span></code> for IEEE 754 64-bit format (double precision).</p>
</section>
<section id="special-value-types">
<span id="umlinst-special"></span><h2><a class="toc-backref" href="#id214" role="doc-backlink">Special value types</a><a class="headerlink" href="#special-value-types" title="Link to this heading">¶</a></h2>
<section id="conditions">
<span id="umlinst-conditions"></span><h3><a class="toc-backref" href="#id215" role="doc-backlink">Conditions</a><a class="headerlink" href="#conditions" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Mnemonic</p></th>
<th class="head"><p>Usage</p></th>
<th class="head"><p>Flags tested</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p><code class="docutils literal notranslate"><span class="pre">z</span></code></p></td>
<td><p>zero</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COND_Z</span></code></p></td>
<td rowspan="2"><p><code class="docutils literal notranslate"><span class="pre">Z</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>equal</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COND_E</span></code></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p><code class="docutils literal notranslate"><span class="pre">nz</span></code></p></td>
<td><p>not zero</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COND_NZ</span></code></p></td>
<td rowspan="2"><p><code class="docutils literal notranslate"><span class="pre">!Z</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>not equal</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COND_NE</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s</span></code></p></td>
<td><p>sign set</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COND_S</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">S</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ns</span></code></p></td>
<td><p>sign not set</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COND_NS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">!S</span></code></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p><code class="docutils literal notranslate"><span class="pre">c</span></code></p></td>
<td><p>carry</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COND_C</span></code></p></td>
<td rowspan="2"><p><code class="docutils literal notranslate"><span class="pre">C</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>below (unsigned)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COND_B</span></code></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p><code class="docutils literal notranslate"><span class="pre">nc</span></code></p></td>
<td><p>no carry</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COND_NC</span></code></p></td>
<td rowspan="2"><p><code class="docutils literal notranslate"><span class="pre">!C</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>above or equal (unsigned)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COND_AE</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">v</span></code></p></td>
<td><p>overflow (signed)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COND_V</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">V</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">nv</span></code></p></td>
<td><p>no overflow (signed)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COND_NV</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">!V</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">u</span></code></p></td>
<td><p>unordered</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COND_U</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">U</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">nu</span></code></p></td>
<td><p>not unordered</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COND_NU</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">!U</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">a</span></code></p></td>
<td><p>above (unsigned)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COND_A</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">!Z</span> <span class="pre">&amp;&amp;</span> <span class="pre">!C</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">be</span></code></p></td>
<td><p>below or equal (unsigned)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COND_BE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Z</span> <span class="pre">||</span> <span class="pre">C</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">g</span></code></p></td>
<td><p>greater than (signed)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COND_G</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">!Z</span> <span class="pre">&amp;&amp;</span> <span class="pre">(S</span> <span class="pre">==</span> <span class="pre">V)</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">le</span></code></p></td>
<td><p>less than or equal (signed)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COND_LE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Z</span> <span class="pre">||</span> <span class="pre">(S</span> <span class="pre">!=</span> <span class="pre">V)</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">l</span></code></p></td>
<td><p>less than (signed)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COND_L</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">S</span> <span class="pre">!=</span> <span class="pre">V</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ge</span></code></p></td>
<td><p>greater than or equal (signed)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COND_GE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">S</span> <span class="pre">==</span> <span class="pre">V</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="flag-masks">
<span id="umlinst-flagmask"></span><h3><a class="toc-backref" href="#id216" role="doc-backlink">Flag masks</a><a class="headerlink" href="#flag-masks" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Disassembly</p></th>
<th class="head"><p>Mnemonic</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0x01</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">C</span></code></p></td>
<td><p>carry</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FLAG_C</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>0x02</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">V</span></code></p></td>
<td><p>overflow</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FLAG_V</span></code></p></td>
</tr>
<tr class="row-even"><td><p>0x04</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Z</span></code></p></td>
<td><p>zero</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FLAG_Z</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>0x08</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">S</span></code></p></td>
<td><p>sign</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FLAG_S</span></code></p></td>
</tr>
<tr class="row-even"><td><p>0x10</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">U</span></code></p></td>
<td><p>unordered</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FLAG_U</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>0x00</p></td>
<td></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FLAGS_NONE</span></code></p></td>
</tr>
<tr class="row-even"><td><p>0x1f</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">USZVC</span></code></p></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FLAGS_ALL</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="floating-point-rounding-modes">
<span id="umlinst-roundmode"></span><h3><a class="toc-backref" href="#id217" role="doc-backlink">Floating point rounding modes</a><a class="headerlink" href="#floating-point-rounding-modes" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Disassembly</p></th>
<th class="head"><p>Mnemonic</p></th>
<th class="head"><p>Usage</p></th>
<th class="head"><p>Mode</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">trunc</span></code></p></td>
<td><p>truncate</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ROUND_TRUNC</span></code></p></td>
<td><p>Round toward zero</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">round</span></code></p></td>
<td><p>round</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ROUND_ROUND</span></code></p></td>
<td><p>Round to nearest, round half to even</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ceil</span></code></p></td>
<td><p>ceiling</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ROUND_CEIL</span></code></p></td>
<td><p>Round toward positive infinity</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">floor</span></code></p></td>
<td><p>floor</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ROUND_FLOOR</span></code></p></td>
<td><p>Round toward negative infinity</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">default</span></code></p></td>
<td><p>default</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ROUND_DEFAULT</span></code></p></td>
<td><p>Use the current default rounding mode</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="flow-control">
<span id="umlinst-flow"></span><h2><a class="toc-backref" href="#id218" role="doc-backlink">Flow control</a><a class="headerlink" href="#flow-control" title="Link to this heading">¶</a></h2>
<section id="comment">
<span id="umlinst-comment"></span><h3><a class="toc-backref" href="#id219" role="doc-backlink">COMMENT</a><a class="headerlink" href="#comment" title="Link to this heading">¶</a></h3>
<p>Insert a comment into logged UML code.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">comment</span> <span class="n">string</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_COMMENT</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="operands">
<h4>Operands<a class="headerlink" href="#operands" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>string</dt><dd><p>The comment text as a pointer to a NUL-terminated string.  This must
remain valid until code is generated for the block.</p>
</dd>
</dl>
</section>
<section id="flags">
<h4>Flags<a class="headerlink" href="#flags" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
</section>
<section id="nop">
<span id="umlinst-nop"></span><h3><a class="toc-backref" href="#id220" role="doc-backlink">NOP</a><a class="headerlink" href="#nop" title="Link to this heading">¶</a></h3>
<p>No operation.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nop</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_NOP</span><span class="p">(</span><span class="n">block</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id1">
<h4>Flags<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
</section>
<section id="label">
<span id="umlinst-label"></span><h3><a class="toc-backref" href="#id221" role="doc-backlink">LABEL</a><a class="headerlink" href="#label" title="Link to this heading">¶</a></h3>
<p>Associate a location with a label number local to the current generated
code block.  Label numbers must not be reused within a generated code
block.  The <a class="reference internal" href="#umlinst-jmp"><span class="std std-ref">JMP</span></a> instruction may be used to transfer
control to the location associated with a label number.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">label</span>   <span class="n">label</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_LABEL</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id2">
<h4>Operands<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>label (label number)</dt><dd><p>The label number to associate with the current location.  A label
number must not be used more than once within a generated code
block.</p>
</dd>
</dl>
</section>
<section id="id3">
<h4>Flags<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
</section>
<section id="handle">
<span id="umlinst-handle"></span><h3><a class="toc-backref" href="#id222" role="doc-backlink">HANDLE</a><a class="headerlink" href="#handle" title="Link to this heading">¶</a></h3>
<p>Mark a location as an entry point of a subroutine.  Subroutines may be
called using the <a class="reference internal" href="#umlinst-callh"><span class="std std-ref">CALLH</span></a> and <a class="reference internal" href="#umlinst-exh"><span class="std std-ref">EXH</span></a> instructions, and also by the <cite>HASHJMP &lt;umlinst-hashjmp&gt;</cite>
if no location is associated with the specified mode and emulated
program counter.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">handle</span>  <span class="n">handle</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_HANDLE</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">handle</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id4">
<h4>Operands<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>handle (code handle)</dt><dd><p>The code handle to bind to the current location.  The handle must
already be allocated, and must not have been bound since the last
generated code reset (all handles are implicitly unbound when
resetting the generated code cache).</p>
</dd>
</dl>
</section>
<section id="id5">
<h4>Flags<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
</section>
<section id="hash">
<span id="umlinst-hash"></span><h3><a class="toc-backref" href="#id223" role="doc-backlink">HASH</a><a class="headerlink" href="#hash" title="Link to this heading">¶</a></h3>
<p>Associate a location with the specified mode and emulated program
counter values.  The <a class="reference internal" href="#umlinst-hashjmp"><span class="std std-ref">HASHJMP</span></a> instruction may be
used to transfer control to the location associated with a mode and
emulated program counter value.</p>
<p>This is usually used to mark the location of the generated code for an
emulated instruction or sequence of instructions.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">hash</span>    <span class="n">mode</span><span class="p">,</span><span class="n">pc</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_HASH</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">pc</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id6">
<h4>Operands<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>mode (32-bit – immediate, map variable)</dt><dd><p>The mode to associate with the current location in the generated
code.  Must be greater than or equal to zero and less than the
number of modes specified when creating the recompiler context.</p>
</dd>
<dt>pc (32-bit – immediate, map variable)</dt><dd><p>The emulated program counter value to associate with the current
location in the generated code.</p>
</dd>
</dl>
</section>
<section id="id7">
<h4>Flags<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
</section>
<section id="jmp">
<span id="umlinst-jmp"></span><h3><a class="toc-backref" href="#id224" role="doc-backlink">JMP</a><a class="headerlink" href="#jmp" title="Link to this heading">¶</a></h3>
<p>Jump to the location associated with a label number within the current
block.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">jmp</span>     <span class="n">label</span>
<span class="n">jmp</span>     <span class="n">label</span><span class="p">,</span><span class="n">cond</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_JMP</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="p">);</span>
<span class="n">UML_JMPc</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">cond</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id8">
<h4>Operands<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>label (label number)</dt><dd><p>The label number associated with the location to jump to in the
current generated code block.  The label number must be associated
with a location in the generated code block before the block is
finalised.</p>
</dd>
<dt>cond (condition)</dt><dd><p>If supplied, a condition that must be met to jump to the specified
label.  If the condition is not met, execution will continue with
the following instruction.</p>
</dd>
</dl>
</section>
<section id="id9">
<h4>Flags<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
</section>
<section id="callh">
<span id="umlinst-callh"></span><h3><a class="toc-backref" href="#id225" role="doc-backlink">CALLH</a><a class="headerlink" href="#callh" title="Link to this heading">¶</a></h3>
<p>Call the subroutine beginning at the specified code handle.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">callh</span>   <span class="n">handle</span>
<span class="n">callh</span>   <span class="n">handle</span><span class="p">,</span><span class="n">cond</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_CALLH</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">handle</span><span class="p">);</span>
<span class="n">UML_CALLHc</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">handle</span><span class="p">,</span><span class="w"> </span><span class="n">cond</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id10">
<h4>Operands<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>handle (code handle)</dt><dd><p>Handle located at the entry point of the subroutine to call.  The
handle must already be allocated but does not need to be bound until
the instruction is executed.  Calling a handle that was unbound at
code generation time may produce less efficient code than calling a
handle that was already bound.</p>
</dd>
<dt>cond (condition)</dt><dd><p>If supplied, a condition that must be met for the subroutine to be
called.  If the condition is not met, the subroutine will not be
called.</p>
</dd>
</dl>
</section>
<section id="id11">
<h4>Flags<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
</section>
<section id="exh">
<span id="umlinst-exh"></span><h3><a class="toc-backref" href="#id226" role="doc-backlink">EXH</a><a class="headerlink" href="#exh" title="Link to this heading">¶</a></h3>
<p>Set the <code class="docutils literal notranslate"><span class="pre">EXP</span></code> register and call the subroutine beginning at the
specified code handle.  The <code class="docutils literal notranslate"><span class="pre">EXP</span></code> register is a 32-bit special
function register that may be retrieved with the <a class="reference internal" href="#umlinst-getexp"><span class="std std-ref">GETEXP</span></a> instruction.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">exh</span>     <span class="n">handle</span><span class="p">,</span><span class="n">arg</span>
<span class="n">exh</span>     <span class="n">handle</span><span class="p">,</span><span class="n">arg</span><span class="p">,</span><span class="n">cond</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_EXH</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">handle</span><span class="p">,</span><span class="w"> </span><span class="n">arg</span><span class="p">);</span>
<span class="n">UML_EXHc</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">handle</span><span class="p">,</span><span class="w"> </span><span class="n">arg</span><span class="p">,</span><span class="w"> </span><span class="n">cond</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id12">
<h4>Operands<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>handle (code handle)</dt><dd><p>Handle located at the entry point of the subroutine to call.  The
handle must already be allocated but does not need to be bound until
the instruction is executed.  Calling a handle that was unbound at
code generation time may produce less efficient code than calling a
handle that was already bound.</p>
</dd>
<dt>arg (32-bit – memory, integer register, immediate, map variable)</dt><dd><p>Value to store in the <code class="docutils literal notranslate"><span class="pre">EXP</span></code> register.</p>
</dd>
<dt>cond (condition)</dt><dd><p>If supplied, a condition that must be met for the subroutine to be
called.  If the condition is not met, the subroutine will not be
called and the <code class="docutils literal notranslate"><span class="pre">EXP</span></code> register will not be modified.</p>
</dd>
</dl>
</section>
<section id="id13">
<h4>Flags<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
<section id="simplification-rules">
<h4>Simplification rules<a class="headerlink" href="#simplification-rules" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">arg</span></code> operand are truncated to 32 bits.</p></li>
</ul>
</section>
</section>
<section id="ret">
<span id="umlinst-ret"></span><h3><a class="toc-backref" href="#id227" role="doc-backlink">RET</a><a class="headerlink" href="#ret" title="Link to this heading">¶</a></h3>
<p>Return from a subroutine, transferring control to the instruction
following the <a class="reference internal" href="#umlinst-callh"><span class="std std-ref">CALLH</span></a> or <a class="reference internal" href="#umlinst-exh"><span class="std std-ref">EXH</span></a>
instruction used to call the subroutine.  This instruction must only be
used within generated code subroutines.  The <a class="reference internal" href="#umlinst-exit"><span class="std std-ref">EXIT</span></a>
instruction must be used to exit from the generated code.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ret</span>
<span class="n">ret</span>     <span class="n">cond</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_RET</span><span class="p">(</span><span class="n">block</span><span class="p">);</span>
<span class="n">UML_RETc</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">cond</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id14">
<h4>Operands<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>cond (condition)</dt><dd><p>If supplied, a condition that must be met to return from the
subroutine.  If the condition is not met, execution will continue
with the following instruction.</p>
</dd>
</dl>
</section>
<section id="id15">
<h4>Flags<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
</section>
<section id="hashjmp">
<span id="umlinst-hashjmp"></span><h3><a class="toc-backref" href="#id228" role="doc-backlink">HASHJMP</a><a class="headerlink" href="#hashjmp" title="Link to this heading">¶</a></h3>
<p>Unwind all nested generated code subroutine frames and transfer control
to the location associated with the specified mode and emulated program
counter values.  If no location is associated with the specified mode
and program counter values, call the subroutine beginning at the
specified code handle.  Note that all nested generated code subroutine
frames are unwound in either case.</p>
<p>This is usually used to jump to the generated code corresponding to the
emulated code at a particular address when it is not known to be in the
current generated code block or when the mode changes.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hashjmp</span> <span class="n">mode</span><span class="p">,</span><span class="n">pc</span><span class="p">,</span><span class="n">handle</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_HASHJMP</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">pc</span><span class="p">,</span><span class="w"> </span><span class="n">handle</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id16">
<h4>Operands<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>mode (32-bit – memory, integer register, immediate, map variable)</dt><dd><p>The mode associated with the location in the generated code to
transfer control to.  Must be greater than or equal to zero and less
than the number of modes specified when creating the recompiler
context.</p>
</dd>
<dt>pc (32-bit – memory, integer register, immediate, map variable)</dt><dd><p>The emulated program counter value associated with the location in
the generated code to transfer control to.</p>
</dd>
<dt>handle (code handle)</dt><dd><p>Handle located at the entry point of the subroutine to call if no
location in the generated code is associated with the specified mode
and emulated program counter values.  The handle must already be
allocated but does not need to be bound until the instruction is
executed.  Calling a handle that was unbound at code generation time
may produce less efficient code than calling a handle that was
already bound.</p>
</dd>
</dl>
</section>
<section id="id17">
<h4>Flags<a class="headerlink" href="#id17" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
</section>
<section id="exit">
<span id="umlinst-exit"></span><h3><a class="toc-backref" href="#id229" role="doc-backlink">EXIT</a><a class="headerlink" href="#exit" title="Link to this heading">¶</a></h3>
<p>Exit from the generated code, returning control to the caller.  May be
used from within any level of nested subroutine calls in the generated
code.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">exit</span>    <span class="n">arg</span><span class="p">,</span>
<span class="n">exit</span>    <span class="n">arg</span><span class="p">,,</span><span class="n">cond</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_EXIT</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">arg</span><span class="p">);</span>
<span class="n">UML_EXITc</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">arg</span><span class="p">,</span><span class="w"> </span><span class="n">cond</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id18">
<h4>Operands<a class="headerlink" href="#id18" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>arg (32-bit – memory, integer register, immediate, map variable)</dt><dd><p>The value to return to the caller.</p>
</dd>
<dt>cond (condition)</dt><dd><p>If supplied, a condition that must be met to exit from the generated
code.  If the condition is not met, execution will continue with the
following instruction.</p>
</dd>
</dl>
</section>
<section id="id19">
<h4>Flags<a class="headerlink" href="#id19" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
<section id="id20">
<h4>Simplification rules<a class="headerlink" href="#id20" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">arg</span></code> operand are truncated to 32 bits.</p></li>
</ul>
</section>
</section>
<section id="callc">
<span id="umlinst-callc"></span><h3><a class="toc-backref" href="#id230" role="doc-backlink">CALLC</a><a class="headerlink" href="#callc" title="Link to this heading">¶</a></h3>
<p>Call a C function with the signature <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">(*)(void</span> <span class="pre">*)</span></code>.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">callc</span>   <span class="n">func</span><span class="p">,</span><span class="n">arg</span>
<span class="n">callc</span>   <span class="n">func</span><span class="p">,</span><span class="n">arg</span><span class="p">,</span><span class="n">cond</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_CALLC</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">func</span><span class="p">,</span><span class="w"> </span><span class="n">arg</span><span class="p">);</span>
<span class="n">UML_CALLCc</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">func</span><span class="p">,</span><span class="w"> </span><span class="n">arg</span><span class="p">,</span><span class="w"> </span><span class="n">cond</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id21">
<h4>Operands<a class="headerlink" href="#id21" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>func (C function)</dt><dd><p>Function pointer to the function to call.</p>
</dd>
<dt>arg (memory)</dt><dd><p>Argument to pass to the function.</p>
</dd>
<dt>cond (condition)</dt><dd><p>If supplied, a condition that must be met for the function to be
called.  If the condition is not met, the function will not be
called.</p>
</dd>
</dl>
</section>
<section id="id22">
<h4>Flags<a class="headerlink" href="#id22" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
</section>
<section id="debug">
<span id="umlinst-debug"></span><h3><a class="toc-backref" href="#id231" role="doc-backlink">DEBUG</a><a class="headerlink" href="#debug" title="Link to this heading">¶</a></h3>
<p>Call the debugger instruction hook function if appropriate.</p>
<p>If the debugger is active, this should be executed before each emulated
instruction.  Any emulated CPU state kept in UML registers should be
flushed to memory before executing this instruction and reloaded
afterwards to ensure the debugger can display and modify values
correctly.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">debug</span>   <span class="n">pc</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_DEBUG</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">pc</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id23">
<h4>Operands<a class="headerlink" href="#id23" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>pc (32-bit – memory, integer register, immediate, map variable)</dt><dd><p>The emulated program counter value to supply to the debugger
instruction hook function.</p>
</dd>
</dl>
</section>
<section id="id24">
<h4>Flags<a class="headerlink" href="#id24" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id25">
<h4>Simplification rules<a class="headerlink" href="#id25" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">pc</span></code> operand are truncated to 32 bits.</p></li>
</ul>
</section>
</section>
<section id="break">
<span id="umlinst-break"></span><h3><a class="toc-backref" href="#id232" role="doc-backlink">BREAK</a><a class="headerlink" href="#break" title="Link to this heading">¶</a></h3>
<p>Break into the host debugger if attached.  Has no effect or crashes if
no host debugger is attached depending on the host system and
configuration.  This is intended as a developer aid and should not be
left in final code.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">break</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_BREAK</span><span class="p">(</span><span class="n">block</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id26">
<h4>Flags<a class="headerlink" href="#id26" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id27">
<h4>Simplification rules<a class="headerlink" href="#id27" title="Link to this heading">¶</a></h4>
<p>No simplifications are applied to this instruction.</p>
</section>
</section>
</section>
<section id="status-and-control">
<span id="umlinst-control"></span><h2><a class="toc-backref" href="#id233" role="doc-backlink">Status and control</a><a class="headerlink" href="#status-and-control" title="Link to this heading">¶</a></h2>
<section id="set">
<span id="umlinst-set"></span><h3><a class="toc-backref" href="#id234" role="doc-backlink">SET</a><a class="headerlink" href="#set" title="Link to this heading">¶</a></h3>
<p>Conditionally set integer to zero or one depending on flags.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span>     <span class="n">dst</span><span class="p">,</span><span class="n">cond</span>
<span class="n">dset</span>    <span class="n">dst</span><span class="p">,</span><span class="n">cond</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_SETc</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">);</span>
<span class="n">UML_DSETc</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">cond</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id28">
<h4>Operands<a class="headerlink" href="#id28" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination that will be set to zero (0) if the condition is not
met or one (1) if the condition is met.</p>
</dd>
<dt>cond (condition)</dt><dd><p>A condition to test.  The destination will be set to zero (0) if the
condition is not met or one (1) if the condition is met.</p>
</dd>
</dl>
</section>
<section id="id29">
<h4>Flags<a class="headerlink" href="#id29" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
<section id="id30">
<h4>Simplification rules<a class="headerlink" href="#id30" title="Link to this heading">¶</a></h4>
<p>No simplifications are applied to this instruction.</p>
</section>
</section>
<section id="carry">
<span id="umlinst-carry"></span><h3><a class="toc-backref" href="#id235" role="doc-backlink">CARRY</a><a class="headerlink" href="#carry" title="Link to this heading">¶</a></h3>
<p>Set the carry flag.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">carry</span>   <span class="n">src</span><span class="p">,</span><span class="n">bit</span>
<span class="n">dcarry</span>  <span class="n">src</span><span class="p">,</span><span class="n">bit</span>
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UML_CARRY</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">bit</span><span class="p">);</span>
<span class="n">UML_DCARRY</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">bit</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt>src (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>An integer value containing a bit to be copied to the carry flag.</p>
</dd>
<dt>bit (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The index of the bit to copy to the carry flag.  Bits are numbered
starting at zero for the least significant bit position, ascending
toward the most significant bit position.  Only the least
significant five bits or six bits of this operand are used,
depending on the instruction size.</p>
</dd>
</dl>
<section id="id31">
<h4>Flags<a class="headerlink" href="#id31" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Set to the value of the selected bit of the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id32">
<h4>Simplification rules<a class="headerlink" href="#id32" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand are truncated to the
instruction size.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">bit</span></code> operand are truncated to five or six
bits for 32-bit or 64-bit operands, respectively.</p></li>
</ul>
</section>
</section>
<section id="setflgs">
<span id="umlinst-setflgs"></span><h3><a class="toc-backref" href="#id236" role="doc-backlink">SETFLGS</a><a class="headerlink" href="#setflgs" title="Link to this heading">¶</a></h3>
<p>Set the flags arbitrarily.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">setflgs</span> <span class="n">src</span>
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UML_SETFLGS</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">src</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>The five least significant bits of the value of <code class="docutils literal notranslate"><span class="pre">src</span></code> are copied to
the flags.  Bits are copied to the <strong>carry (C)</strong>, <strong>overflow (V)</strong>,
<strong>zero (Z)</strong>, <strong>sign (S)</strong> and <strong>unordered (U)</strong> flags, starting from
the least significant bit position.</p>
<section id="id33">
<h4>Operands<a class="headerlink" href="#id33" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>src (32-bit – memory, integer register, immediate, map variable)</dt><dd><p>The value to copy to the flags.  Only the least significant five
bits of this operand are used.</p>
</dd>
</dl>
</section>
<section id="id34">
<h4>Flags<a class="headerlink" href="#id34" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Set to the value of bit 0 of the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand, counting from the
least significant bit starting from zero.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Set to the value of bit 1 of the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand, counting from the
least significant bit starting from zero.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set to the value of bit 2 of the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand, counting from the
least significant bit starting from zero.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of bit 3 of the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand, counting from the
least significant bit starting from zero.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Set to the value of bit 4 of the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand, counting from the
least significant bit starting from zero.</p>
</dd>
</dl>
</section>
<section id="id35">
<h4>Simplification rules<a class="headerlink" href="#id35" title="Link to this heading">¶</a></h4>
<p>No simplifications are applied to this instruction.</p>
</section>
</section>
<section id="getflgs">
<span id="umlinst-getflgs"></span><h3><a class="toc-backref" href="#id237" role="doc-backlink">GETFLGS</a><a class="headerlink" href="#getflgs" title="Link to this heading">¶</a></h3>
<p>Copy flags.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">getflgs</span> <span class="n">dst</span><span class="p">,</span><span class="n">mask</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_GETFLGS</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>The flags corresponding to bit positions that are set in <code class="docutils literal notranslate"><span class="pre">mask</span></code> are
copied to the corresponding bit positions in <code class="docutils literal notranslate"><span class="pre">dst</span></code>.  Bit positions
corresponding in <code class="docutils literal notranslate"><span class="pre">dst</span></code> that do not correspond to flags or that
correspond to bit positions that are clear in <code class="docutils literal notranslate"><span class="pre">mask</span></code> are cleared.</p>
<p>Back-ends may be able to generate more efficient code if fewer bit
positions are set in <code class="docutils literal notranslate"><span class="pre">mask</span></code>.</p>
<section id="id36">
<h4>Operands<a class="headerlink" href="#id36" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>src (32-bit – memory, integer register)</dt><dd><p>The destination where the flags corresponding to bit positions that
are set in the <code class="docutils literal notranslate"><span class="pre">mask</span></code> operand will be copied.</p>
</dd>
<dt>mask (flag mask – immediate, map variable)</dt><dd><p>The mask to specify which flags to copy.  Only the least significant
five bits of this operand are used.</p>
</dd>
</dl>
</section>
<section id="id37">
<h4>Flags<a class="headerlink" href="#id37" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
<section id="id38">
<h4>Simplification rules<a class="headerlink" href="#id38" title="Link to this heading">¶</a></h4>
<p>No simplifications are applied to this instruction.</p>
</section>
</section>
<section id="setfmod">
<span id="umlinst-setfmod"></span><h3><a class="toc-backref" href="#id238" role="doc-backlink">SETFMOD</a><a class="headerlink" href="#setfmod" title="Link to this heading">¶</a></h3>
<p>Set the default floating point rounding mode.  The default rounding mode
is used for floating point arithmetic and for floating point to integer
conversion when <code class="docutils literal notranslate"><span class="pre">ROUND_DEFAULT</span></code> is specified.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">setfmod</span> <span class="nb">round</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_SETFMOD</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">round</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id39">
<h4>Operands<a class="headerlink" href="#id39" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>round (32-bit – memory, integer register, immediate, map variable)</dt><dd><p>The rounding mode to set as the default.  Only the two least
significant bits of the value are used.  Must be 0 (<code class="docutils literal notranslate"><span class="pre">ROUND_TRUNC</span></code>)
to round toward zero, 1 (<code class="docutils literal notranslate"><span class="pre">ROUND_ROUND</span></code>) to round to nearest, 2
(<code class="docutils literal notranslate"><span class="pre">ROUND_CEIL</span></code>) to round toward positive infinity, or 3
(<code class="docutils literal notranslate"><span class="pre">ROUND_FLOOR</span></code>) to round toward negative infinity.</p>
</dd>
</dl>
</section>
<section id="id40">
<h4>Flags<a class="headerlink" href="#id40" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id41">
<h4>Simplification rules<a class="headerlink" href="#id41" title="Link to this heading">¶</a></h4>
<p>No simplifications are applied to this instruction.</p>
</section>
</section>
<section id="getfmod">
<span id="umlinst-getfmod"></span><h3><a class="toc-backref" href="#id239" role="doc-backlink">GETFMOD</a><a class="headerlink" href="#getfmod" title="Link to this heading">¶</a></h3>
<p>Get the current default floating point rounding mode set by the most
recent <a class="reference internal" href="#umlinst-setfmod"><span class="std std-ref">SETFMOD</span></a> or <a class="reference internal" href="#umlinst-restore"><span class="std std-ref">RESTORE</span></a> instruction.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">getfmod</span> <span class="n">dst</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_GETFMOD</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Note that the result of this instruction may not correspond to the
actual effective default rounding mode between entering the generated
code and executing the first <a class="reference internal" href="#umlinst-setfmod"><span class="std std-ref">SETFMOD</span></a> or
<a class="reference internal" href="#umlinst-restore"><span class="std std-ref">RESTORE</span></a> instruction.</p>
<section id="id42">
<h4>Operands<a class="headerlink" href="#id42" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit – memory, integer register)</dt><dd><p>The destination where the current default rounding mode will be
stored.  Will be set to 0 (<code class="docutils literal notranslate"><span class="pre">ROUND_TRUNC</span></code>) for round toward zero, 1
(<code class="docutils literal notranslate"><span class="pre">ROUND_ROUND</span></code>) for round to nearest, 2 (<code class="docutils literal notranslate"><span class="pre">ROUND_CEIL</span></code>) for round
toward positive infinity, or 3 (<code class="docutils literal notranslate"><span class="pre">ROUND_FLOOR</span></code>) for round toward
negative infinity.</p>
</dd>
</dl>
</section>
<section id="id43">
<h4>Flags<a class="headerlink" href="#id43" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id44">
<h4>Simplification rules<a class="headerlink" href="#id44" title="Link to this heading">¶</a></h4>
<p>No simplifications are applied to this instruction.</p>
</section>
</section>
<section id="restore">
<span id="umlinst-restore"></span><h3><a class="toc-backref" href="#id240" role="doc-backlink">RESTORE</a><a class="headerlink" href="#restore" title="Link to this heading">¶</a></h3>
<p>Set the contents of the UML integer and floating point registers, the
contents of the <code class="docutils literal notranslate"><span class="pre">EXP</span></code> register, the flags and the default floating
point rounding mode from a <code class="docutils literal notranslate"><span class="pre">drcuml_machine_state</span></code> structure.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">restore</span> <span class="n">src</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_RESTORE</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Restores program-visible UML state from a structure in memory.  The
subroutine call stack and current instruction pointer are not changed.
Execution continues with the following UML instruction.</p>
<dl class="simple">
<dt>src (<code class="docutils literal notranslate"><span class="pre">drcuml_machine_state</span></code> structure – memory)</dt><dd><p>The source that will be used to set program-visible UML machine
state.  This may be any host memory location accessible by the
application.  It is not restricted to the recompiler cache.</p>
</dd>
</dl>
<section id="id45">
<h4>Flags<a class="headerlink" href="#id45" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Set from the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Set from the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set from the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set from the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Set from the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand.</p>
</dd>
</dl>
</section>
<section id="id46">
<h4>Simplification rules<a class="headerlink" href="#id46" title="Link to this heading">¶</a></h4>
<p>No simplifications are applied to this instruction.</p>
</section>
</section>
<section id="save">
<span id="umlinst-save"></span><h3><a class="toc-backref" href="#id241" role="doc-backlink">SAVE</a><a class="headerlink" href="#save" title="Link to this heading">¶</a></h3>
<p>Copy the contents of the UML integer and floating point registers, the
contents of the <code class="docutils literal notranslate"><span class="pre">EXP</span></code> register, the flags and the default floating
point rounding mode to a <code class="docutils literal notranslate"><span class="pre">drcuml_machine_state</span></code> structure.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">save</span>    <span class="n">dst</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_SAVE</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Saves program-visible UML state to a structure in memory that can
subsequently be restored using the <a class="reference internal" href="#umlinst-restore"><span class="std std-ref">RESTORE</span></a>
instruction.  The subroutine call stack and current instruction pointer
are not saved.</p>
<p>Note that the saved floating point rounding mode may not correspond to
the actual effective default rounding mode between entering the
generated code and executing the first <a class="reference internal" href="#umlinst-setfmod"><span class="std std-ref">SETFMOD</span></a>
or <a class="reference internal" href="#umlinst-restore"><span class="std std-ref">RESTORE</span></a> instruction.</p>
<section id="id47">
<h4>Operands<a class="headerlink" href="#id47" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (<code class="docutils literal notranslate"><span class="pre">drcuml_machine_state</span></code> structure – memory)</dt><dd><p>The destination where program-visible UML machine state will be
saved.  This may be any host memory location accessible by the
application.  It is not restricted to the recompiler cache.</p>
</dd>
</dl>
</section>
<section id="id48">
<h4>Flags<a class="headerlink" href="#id48" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id49">
<h4>Simplification rules<a class="headerlink" href="#id49" title="Link to this heading">¶</a></h4>
<p>No simplifications are applied to this instruction.</p>
</section>
</section>
</section>
<section id="data-movement">
<span id="umlinst-datamove"></span><h2><a class="toc-backref" href="#id242" role="doc-backlink">Data movement</a><a class="headerlink" href="#data-movement" title="Link to this heading">¶</a></h2>
<section id="mov">
<span id="umlinst-mov"></span><h3><a class="toc-backref" href="#id243" role="doc-backlink">MOV</a><a class="headerlink" href="#mov" title="Link to this heading">¶</a></h3>
<p>Copy an integer value.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mov</span>     <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
<span class="n">mov</span>     <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">cond</span>
<span class="n">dmov</span>    <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
<span class="n">dmov</span>    <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">cond</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_MOV</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
<span class="n">UML_MOVc</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">cond</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
<span class="n">UML_DMOV</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
<span class="n">UML_DMOVc</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">cond</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id50">
<h4>Operands<a class="headerlink" href="#id50" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the value will be copied to.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The source value to copy.</p>
</dd>
<dt>cond (condition)</dt><dd><p>If supplied, a condition that must be met to copy the value.  If the
condition is not met, the instruction will have no effect.</p>
</dd>
</dl>
</section>
<section id="id51">
<h4>Flags<a class="headerlink" href="#id51" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
<section id="id52">
<h4>Simplification rules<a class="headerlink" href="#id52" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand are truncated to the
instruction size.</p></li>
<li><p>Converted to <a class="reference internal" href="#umlinst-nop"><span class="std std-ref">NOP</span></a> if the <code class="docutils literal notranslate"><span class="pre">src</span></code> and <code class="docutils literal notranslate"><span class="pre">dst</span></code>
operands refer to the same memory location or register and the
instruction size is no larger than the destination size.</p></li>
</ul>
</section>
</section>
<section id="fmov">
<span id="umlinst-fmov"></span><h3><a class="toc-backref" href="#id244" role="doc-backlink">FMOV</a><a class="headerlink" href="#fmov" title="Link to this heading">¶</a></h3>
<p>Copy a floating point value.  The binary value will be preserved even if
it is not a valid representation of a floating point number.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fsmov</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
<span class="n">fsmov</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">cond</span>
<span class="n">fdmov</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
<span class="n">fdmov</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">cond</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_FSMOV</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
<span class="n">UML_FSMOVc</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">cond</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
<span class="n">UML_FDMOV</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
<span class="n">UML_FDMOVc</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">cond</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id53">
<h4>Operands<a class="headerlink" href="#id53" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The destination where the value will be copied to.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The source value to copy.</p>
</dd>
<dt>cond (condition)</dt><dd><p>If supplied, a condition that must be met to copy the value.  If the
condition is not met, the instruction will have no effect.</p>
</dd>
</dl>
</section>
<section id="id54">
<h4>Flags<a class="headerlink" href="#id54" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
<section id="id55">
<h4>Simplification rules<a class="headerlink" href="#id55" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-nop"><span class="std std-ref">NOP</span></a> if the <code class="docutils literal notranslate"><span class="pre">src</span></code> and <code class="docutils literal notranslate"><span class="pre">dst</span></code>
operands refer to the same memory location or register.</p></li>
</ul>
</section>
</section>
<section id="fcopyi">
<span id="umlinst-fcopyi"></span><h3><a class="toc-backref" href="#id245" role="doc-backlink">FCOPYI</a><a class="headerlink" href="#fcopyi" title="Link to this heading">¶</a></h3>
<p>Reinterpret an integer value as a floating point value.  The binary
value will be preserved even if it is not a valid representation of a
floating point number.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fscopyi</span> <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
<span class="n">fdcopyi</span> <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_FSCOPYI</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
<span class="n">UML_FDCOPYI</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id56">
<h4>Operands<a class="headerlink" href="#id56" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The destination where the value will be copied to.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, integer register)</dt><dd><p>The source value to copy.</p>
</dd>
</dl>
</section>
<section id="id57">
<h4>Flags<a class="headerlink" href="#id57" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
</section>
<section id="icopyf">
<span id="umlinst-icopyf"></span><h3><a class="toc-backref" href="#id246" role="doc-backlink">ICOPYF</a><a class="headerlink" href="#icopyf" title="Link to this heading">¶</a></h3>
<p>Reinterpret a floating point value as an integer value.  The binary
value will be preserved even if it is not a valid representation of a
floating point number.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">icopyfs</span> <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
<span class="n">icopyfd</span> <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_ICOPYFS</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
<span class="n">UML_ICOPYFD</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id58">
<h4>Operands<a class="headerlink" href="#id58" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the value will be copied to.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The source value to copy.</p>
</dd>
</dl>
</section>
<section id="id59">
<h4>Flags<a class="headerlink" href="#id59" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
</section>
<section id="load">
<span id="umlinst-load"></span><h3><a class="toc-backref" href="#id247" role="doc-backlink">LOAD</a><a class="headerlink" href="#load" title="Link to this heading">¶</a></h3>
<p>Load an unsigned integer value from a memory location with variable
displacement.  The value is zero-extended to the size of the
destination.  Host system rules for integer alignment must be followed.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">load</span>    <span class="n">dst</span><span class="p">,</span><span class="n">base</span><span class="p">,</span><span class="n">index</span><span class="p">,</span><span class="n">size_scale</span>
<span class="n">dload</span>   <span class="n">dst</span><span class="p">,</span><span class="n">base</span><span class="p">,</span><span class="n">index</span><span class="p">,</span><span class="n">size_scale</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_LOAD</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">base</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">scale</span><span class="p">);</span>
<span class="n">UML_DLOAD</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">base</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">scale</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>This instruction can be used to read a value from any host memory
location accessible by the application.  It is not restricted to the
recompiler cache.</p>
<section id="id60">
<h4>Operands<a class="headerlink" href="#id60" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the value read from memory will be stored.</p>
</dd>
<dt>base (memory)</dt><dd><p>The base address of the area of memory to read from.</p>
</dd>
<dt>index (32-bit – memory, integer register, immediate, map variable)</dt><dd><p>The displacement value added to the base address to calculate the
address to read from.  This value may be scaled by a factor of 1, 2,
4 or 8 depending on the <code class="docutils literal notranslate"><span class="pre">scale</span></code> operand.  Note that this is always
a 32-bit operand interpreted as a signed integer, irrespective of
the instruction size.</p>
</dd>
<dt>size (access size)</dt><dd><p>The size of the value to read.  Must be <code class="docutils literal notranslate"><span class="pre">SIZE_BYTE</span></code> (8-bit),
<code class="docutils literal notranslate"><span class="pre">SIZE_WORD</span></code> (16-bit), <code class="docutils literal notranslate"><span class="pre">SIZE_DWORD</span></code> (32-bit) or <code class="docutils literal notranslate"><span class="pre">SIZE_QWORD</span></code>
(64-bit).  Note that this operand controls the size of the value
read from memory while the instruction size sets the size of the
<code class="docutils literal notranslate"><span class="pre">dst</span></code> operand.</p>
</dd>
<dt>scale (index scale)</dt><dd><p>The scale factor to apply to the <code class="docutils literal notranslate"><span class="pre">index</span></code> operand.  Must be
<code class="docutils literal notranslate"><span class="pre">SCALE_x1</span></code>, <code class="docutils literal notranslate"><span class="pre">SCALE_x2</span></code>, <code class="docutils literal notranslate"><span class="pre">SCALE_x4</span></code> or <code class="docutils literal notranslate"><span class="pre">SCALE_x8</span></code> to multiply
by 1, 2, 4 or 8, respectively (shift left by 0, 1, 2 or 3 bits).</p>
</dd>
</dl>
</section>
<section id="id61">
<h4>Flags<a class="headerlink" href="#id61" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
</section>
<section id="loads">
<span id="umlinst-loads"></span><h3><a class="toc-backref" href="#id248" role="doc-backlink">LOADS</a><a class="headerlink" href="#loads" title="Link to this heading">¶</a></h3>
<p>Load a signed integer value from a memory location with variable
displacement.  The value is sign-extended to the size of the
destination.  Host system rules for integer alignment must be followed.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">loads</span>   <span class="n">dst</span><span class="p">,</span><span class="n">base</span><span class="p">,</span><span class="n">index</span><span class="p">,</span><span class="n">size_scale</span>
<span class="n">dloads</span>  <span class="n">dst</span><span class="p">,</span><span class="n">base</span><span class="p">,</span><span class="n">index</span><span class="p">,</span><span class="n">size_scale</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_LOADS</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">base</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">scale</span><span class="p">);</span>
<span class="n">UML_DLOADS</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">base</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">scale</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>This instruction can be used to read a value from any host memory
location accessible by the application.  It is not restricted to the
recompiler cache.</p>
<section id="id62">
<h4>Operands<a class="headerlink" href="#id62" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the value read from memory will be stored.</p>
</dd>
<dt>base (memory)</dt><dd><p>The base address of the area of memory to read from.</p>
</dd>
<dt>index (32-bit – memory, integer register, immediate, map variable)</dt><dd><p>The displacement value added to the base address to calculate the
address to read from.  This value may be scaled by a factor of 1, 2,
4 or 8 depending on the <code class="docutils literal notranslate"><span class="pre">scale</span></code> operand.  Note that this is always
a 32-bit operand interpreted as a signed integer, irrespective of
the instruction size.</p>
</dd>
<dt>size (access size)</dt><dd><p>The size of the value to read.  Must be <code class="docutils literal notranslate"><span class="pre">SIZE_BYTE</span></code> (8-bit),
<code class="docutils literal notranslate"><span class="pre">SIZE_WORD</span></code> (16-bit), <code class="docutils literal notranslate"><span class="pre">SIZE_DWORD</span></code> (32-bit) or <code class="docutils literal notranslate"><span class="pre">SIZE_QWORD</span></code>
(64-bit).  Note that this operand controls the size of the value
read from memory while the instruction size sets the size of the
<code class="docutils literal notranslate"><span class="pre">dst</span></code> operand.</p>
</dd>
<dt>scale (index scale)</dt><dd><p>The scale factor to apply to the <code class="docutils literal notranslate"><span class="pre">index</span></code> operand.  Must be
<code class="docutils literal notranslate"><span class="pre">SCALE_x1</span></code>, <code class="docutils literal notranslate"><span class="pre">SCALE_x2</span></code>, <code class="docutils literal notranslate"><span class="pre">SCALE_x4</span></code> or <code class="docutils literal notranslate"><span class="pre">SCALE_x8</span></code> to multiply
by 1, 2, 4 or 8, respectively (shift left by 0, 1, 2 or 3 bits).</p>
</dd>
</dl>
</section>
<section id="id63">
<h4>Flags<a class="headerlink" href="#id63" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
</section>
<section id="store">
<span id="umlinst-store"></span><h3><a class="toc-backref" href="#id249" role="doc-backlink">STORE</a><a class="headerlink" href="#store" title="Link to this heading">¶</a></h3>
<p>Store an integer value to a location in memory with variable
displacement.  Host system rules for integer alignment must be followed.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">store</span>   <span class="n">base</span><span class="p">,</span><span class="n">index</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">size_scale</span>
<span class="n">dstore</span>  <span class="n">base</span><span class="p">,</span><span class="n">index</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">size_scale</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_STORE</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">base</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">scale</span><span class="p">);</span>
<span class="n">UML_DSTORE</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">base</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">scale</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>This instruction can be used to write a value to any host memory
location accessible by the application.  It is not restricted to the
recompiler cache.</p>
<section id="id64">
<h4>Operands<a class="headerlink" href="#id64" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>base (memory)</dt><dd><p>The base address of the area of memory to write to.</p>
</dd>
<dt>index (32-bit – memory, integer register, immediate, map variable)</dt><dd><p>The displacement value added to the base address to calculate the
address to write to.  This value may be scaled by a factor of 1, 2,
4 or 8 depending on the <code class="docutils literal notranslate"><span class="pre">scale</span></code> operand.  Note that this is always
a 32-bit operand interpreted as a signed integer, irrespective of
the instruction size.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The value to write to memory.</p>
</dd>
<dt>size (access size)</dt><dd><p>The size of the value to write.  Must be <code class="docutils literal notranslate"><span class="pre">SIZE_BYTE</span></code> (8-bit),
<code class="docutils literal notranslate"><span class="pre">SIZE_WORD</span></code> (16-bit), <code class="docutils literal notranslate"><span class="pre">SIZE_DWORD</span></code> (32-bit) or <code class="docutils literal notranslate"><span class="pre">SIZE_QWORD</span></code>
(64-bit).  Note that this operand controls the size of the value
written to memory while the instruction size sets the size of the
<code class="docutils literal notranslate"><span class="pre">src</span></code> operand.</p>
</dd>
<dt>scale (index scale)</dt><dd><p>The scale factor to apply to the <code class="docutils literal notranslate"><span class="pre">index</span></code> operand.  Must be
<code class="docutils literal notranslate"><span class="pre">SCALE_x1</span></code>, <code class="docutils literal notranslate"><span class="pre">SCALE_x2</span></code>, <code class="docutils literal notranslate"><span class="pre">SCALE_x4</span></code> or <code class="docutils literal notranslate"><span class="pre">SCALE_x8</span></code> to multiply
by 1, 2, 4 or 8, respectively (shift left by 0, 1, 2 or 3 bits).</p>
</dd>
</dl>
</section>
<section id="id65">
<h4>Flags<a class="headerlink" href="#id65" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
</section>
<section id="fload">
<span id="umlinst-fload"></span><h3><a class="toc-backref" href="#id250" role="doc-backlink">FLOAD</a><a class="headerlink" href="#fload" title="Link to this heading">¶</a></h3>
<p>Load a floating point value from a memory location with variable
displacement.  The binary value will be preserved even if it is not a
valid representation of a floating point number.  Host system rules for
memory access alignment must be followed.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fsload</span>  <span class="n">dst</span><span class="p">,</span><span class="n">base</span><span class="p">,</span><span class="n">index</span>
<span class="n">fdload</span>  <span class="n">dst</span><span class="p">,</span><span class="n">base</span><span class="p">,</span><span class="n">index</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_FSLOAD</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">base</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">);</span>
<span class="n">UML_FDLOAD</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">base</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id66">
<h4>Operands<a class="headerlink" href="#id66" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The destination where the value read from memory will be stored.</p>
</dd>
<dt>base (memory)</dt><dd><p>The base address of the area of memory to read from.</p>
</dd>
<dt>index (32-bit – memory, integer register, immediate, map variable)</dt><dd><p>The displacement value added to the base address to calculate the
address to read from.  This value will be scaled by the instruction
size (multiplied by 4 or 8).  Note that this is always a 32-bit
operand interpreted as a signed integer, irrespective of the
instruction size.</p>
</dd>
</dl>
</section>
<section id="id67">
<h4>Flags<a class="headerlink" href="#id67" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
</section>
<section id="fstore">
<span id="umlinst-fstore"></span><h3><a class="toc-backref" href="#id251" role="doc-backlink">FSTORE</a><a class="headerlink" href="#fstore" title="Link to this heading">¶</a></h3>
<p>Store a floating point value to a memory location with variable
displacement.  The binary value will be preserved even if it is not a
valid representation of a floating point number.  Host system rules for
memory access alignment must be followed.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fsstore</span> <span class="n">base</span><span class="p">,</span><span class="n">index</span><span class="p">,</span><span class="n">src</span>
<span class="n">fdstore</span> <span class="n">base</span><span class="p">,</span><span class="n">index</span><span class="p">,</span><span class="n">src</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_FSSTORE</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">base</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
<span class="n">UML_FDSTORE</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">base</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id68">
<h4>Operands<a class="headerlink" href="#id68" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>base (memory)</dt><dd><p>The base address of the area of memory to write to.</p>
</dd>
<dt>index (32-bit – memory, integer register, immediate, map variable)</dt><dd><p>The displacement value added to the base address to calculate the
address to write to.  This value will be scaled by the instruction
size (multiplied by 4 or 8).  Note that this is always a 32-bit
operand interpreted as a signed integer, irrespective of the
instruction size.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The value to write to memory.</p>
</dd>
</dl>
</section>
<section id="id69">
<h4>Flags<a class="headerlink" href="#id69" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
</section>
<section id="getexp">
<span id="umlinst-getexp"></span><h3><a class="toc-backref" href="#id252" role="doc-backlink">GETEXP</a><a class="headerlink" href="#getexp" title="Link to this heading">¶</a></h3>
<p>Copy the value of the <code class="docutils literal notranslate"><span class="pre">EXP</span></code> register.  The <code class="docutils literal notranslate"><span class="pre">EXP</span></code> register can be set
using the <a class="reference internal" href="#umlinst-exh"><span class="std std-ref">EXH</span></a> instruction.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">getexp</span>  <span class="n">dst</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_GETEXP</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id70">
<h4>Operands<a class="headerlink" href="#id70" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit – memory, integer register)</dt><dd><p>The destination to copy the value of the <code class="docutils literal notranslate"><span class="pre">EXP</span></code> register to.  Note
that the <code class="docutils literal notranslate"><span class="pre">EXP</span></code> register can only hold a 32-bit value.</p>
</dd>
</dl>
</section>
<section id="id71">
<h4>Flags<a class="headerlink" href="#id71" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
</section>
<section id="mapvar">
<span id="umlinst-mapvar"></span><h3><a class="toc-backref" href="#id253" role="doc-backlink">MAPVAR</a><a class="headerlink" href="#mapvar" title="Link to this heading">¶</a></h3>
<p>Set the value of a map variable starting at the current location in the
current generated code block.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mapvar</span>  <span class="n">mapvar</span><span class="p">,</span><span class="n">value</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_MAPVAR</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">mapvar</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id72">
<h4>Operands<a class="headerlink" href="#id72" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>mapvar (map variable)</dt><dd><p>The map variable to set the value of.</p>
</dd>
<dt>value (32-bit – immediate, map variable)</dt><dd><p>The value to set the map variable to.  Note that map variables can
only hold 32-bit values.</p>
</dd>
</dl>
</section>
<section id="id73">
<h4>Flags<a class="headerlink" href="#id73" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Unchanged.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Unchanged.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Unchanged.</p>
</dd>
<dt>sign (S)</dt><dd><p>Unchanged.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Unchanged.</p>
</dd>
</dl>
</section>
</section>
<section id="recover">
<span id="umlinst-recover"></span><h3><a class="toc-backref" href="#id254" role="doc-backlink">RECOVER</a><a class="headerlink" href="#recover" title="Link to this heading">¶</a></h3>
<p>Retrieve the value of a map variable at the location of the call
instruction in the outermost generated code frame.  This instruction
should only be used from within a generated code subroutine.  Results
are undefined if this instruction is executed from outside any
generated code subroutines.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">recover</span> <span class="n">dst</span><span class="p">,</span><span class="n">mapvar</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_RECOVER</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">mapvar</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id74">
<h4>Operands<a class="headerlink" href="#id74" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit – memory, integer register)</dt><dd><p>The destination to copy the value of the map variable to.  Note that
map variables can only hold 32-bit values.</p>
</dd>
<dt>mapvar (map variable)</dt><dd><p>The map variable to retrieve the value of from the outermost
generated code frame.</p>
</dd>
</dl>
</section>
<section id="id75">
<h4>Flags<a class="headerlink" href="#id75" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
</section>
</section>
<section id="emulated-memory-access">
<span id="umlinst-memaccess"></span><h2><a class="toc-backref" href="#id255" role="doc-backlink">Emulated memory access</a><a class="headerlink" href="#emulated-memory-access" title="Link to this heading">¶</a></h2>
<section id="read">
<span id="umlinst-read"></span><h3><a class="toc-backref" href="#id256" role="doc-backlink">READ</a><a class="headerlink" href="#read" title="Link to this heading">¶</a></h3>
<p>Read from an emulated address space.  The access mask is implied to have
all bits set.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">read</span>    <span class="n">dst</span><span class="p">,</span><span class="n">addr</span><span class="p">,</span><span class="n">space_size</span>
<span class="n">dread</span>   <span class="n">dst</span><span class="p">,</span><span class="n">addr</span><span class="p">,</span><span class="n">space_size</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_READ</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">addr</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">space</span><span class="p">);</span>
<span class="n">UML_DREAD</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">addr</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">space</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id76">
<h4>Operands<a class="headerlink" href="#id76" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the value read from the emulated address space
will be stored.</p>
</dd>
<dt>addr (32-bit – memory, integer register, immediate, map variable)</dt><dd><p>The address to read from in the emulated address space.  Note that
this is always a 32-bit operand, irrespective of the instruction
size.</p>
</dd>
<dt>size (access size)</dt><dd><p>The size of the emulated memory access.  Must be <code class="docutils literal notranslate"><span class="pre">SIZE_BYTE</span></code>
(8-bit), <code class="docutils literal notranslate"><span class="pre">SIZE_WORD</span></code> (16-bit), <code class="docutils literal notranslate"><span class="pre">SIZE_DWORD</span></code> (32-bit) or
<code class="docutils literal notranslate"><span class="pre">SIZE_QWORD</span></code> (64-bit).  Note that this operand controls the size
of the emulated memory access while the instruction size sets the
size of the <code class="docutils literal notranslate"><span class="pre">dst</span></code> operand.</p>
</dd>
<dt>space (address space number)</dt><dd><p>An integer identifying the address space to read from.  May be
<code class="docutils literal notranslate"><span class="pre">SPACE_PROGRAM</span></code>, <code class="docutils literal notranslate"><span class="pre">SPACE_DATA</span></code>, <code class="docutils literal notranslate"><span class="pre">SPACE_IO</span></code> or <code class="docutils literal notranslate"><span class="pre">SPACE_OPCODES</span></code>
for one of the common CPU address spaces, or a non-negative integer
cast to <code class="docutils literal notranslate"><span class="pre">memory_space</span></code>.</p>
</dd>
</dl>
</section>
<section id="id77">
<h4>Flags<a class="headerlink" href="#id77" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id78">
<h4>Simplification rules<a class="headerlink" href="#id78" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">addr</span></code> operand are truncated to 32 bits.</p></li>
</ul>
</section>
</section>
<section id="readm">
<span id="umlinst-readm"></span><h3><a class="toc-backref" href="#id257" role="doc-backlink">READM</a><a class="headerlink" href="#readm" title="Link to this heading">¶</a></h3>
<p>Read from an emulated address space with access mask specified.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">readm</span>   <span class="n">dst</span><span class="p">,</span><span class="n">addr</span><span class="p">,</span><span class="n">mask</span><span class="p">,</span><span class="n">space_size</span>
<span class="n">dreadm</span>  <span class="n">dst</span><span class="p">,</span><span class="n">addr</span><span class="p">,</span><span class="n">mask</span><span class="p">,</span><span class="n">space_size</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_READM</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">addr</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">space</span><span class="p">);</span>
<span class="n">UML_DREADM</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">addr</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">space</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id79">
<h4>Operands<a class="headerlink" href="#id79" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the value read from the emulated address space
will be stored.</p>
</dd>
<dt>addr (32-bit – memory, integer register, immediate, map variable)</dt><dd><p>The address to read from in the emulated address space.  Note that
this is always a 32-bit operand, irrespective of the instruction
size.</p>
</dd>
<dt>mask (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The access mask for the emulated memory access.</p>
</dd>
<dt>size (access size)</dt><dd><p>The size of the emulated memory access.  Must be <code class="docutils literal notranslate"><span class="pre">SIZE_BYTE</span></code>
(8-bit), <code class="docutils literal notranslate"><span class="pre">SIZE_WORD</span></code> (16-bit), <code class="docutils literal notranslate"><span class="pre">SIZE_DWORD</span></code> (32-bit) or
<code class="docutils literal notranslate"><span class="pre">SIZE_QWORD</span></code> (64-bit).  Note that this operand controls the size
of the emulated memory access while the instruction size sets the
size of the <code class="docutils literal notranslate"><span class="pre">dst</span></code> and <code class="docutils literal notranslate"><span class="pre">mask</span></code> operands.</p>
</dd>
<dt>space (address space number)</dt><dd><p>An integer identifying the address space to read from.  May be
<code class="docutils literal notranslate"><span class="pre">SPACE_PROGRAM</span></code>, <code class="docutils literal notranslate"><span class="pre">SPACE_DATA</span></code>, <code class="docutils literal notranslate"><span class="pre">SPACE_IO</span></code> or <code class="docutils literal notranslate"><span class="pre">SPACE_OPCODES</span></code>
for one of the common CPU address spaces, or a non-negative integer
cast to <code class="docutils literal notranslate"><span class="pre">memory_space</span></code>.</p>
</dd>
</dl>
</section>
<section id="id80">
<h4>Flags<a class="headerlink" href="#id80" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id81">
<h4>Simplification rules<a class="headerlink" href="#id81" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">addr</span></code> operand are truncated to 32 bits.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">mask</span></code> operand are truncated to the access
size.</p></li>
<li><p>Converted to <a class="reference internal" href="#umlinst-read"><span class="std std-ref">READ</span></a> if the <code class="docutils literal notranslate"><span class="pre">mask</span></code> operand is an
immediate value with all bits set.</p></li>
</ul>
</section>
</section>
<section id="write">
<span id="umlinst-write"></span><h3><a class="toc-backref" href="#id258" role="doc-backlink">WRITE</a><a class="headerlink" href="#write" title="Link to this heading">¶</a></h3>
<p>Write to an emulated address space.  The access mask is implied to have
all bits set.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">write</span>   <span class="n">addr</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">space_size</span>
<span class="n">dwrite</span>  <span class="n">addr</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">space_size</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_WRITE</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">addr</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">space</span><span class="p">);</span>
<span class="n">UML_DWRITE</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">addr</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">space</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id82">
<h4>Operands<a class="headerlink" href="#id82" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>addr (32-bit – memory, integer register, immediate, map variable)</dt><dd><p>The address to write to in the emulated address space.  Note that
this is always a 32-bit operand, irrespective of the instruction
size.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The value to write to the emulated address space.</p>
</dd>
<dt>size (access size)</dt><dd><p>The size of the emulated memory access.  Must be <code class="docutils literal notranslate"><span class="pre">SIZE_BYTE</span></code>
(8-bit), <code class="docutils literal notranslate"><span class="pre">SIZE_WORD</span></code> (16-bit), <code class="docutils literal notranslate"><span class="pre">SIZE_DWORD</span></code> (32-bit) or
<code class="docutils literal notranslate"><span class="pre">SIZE_QWORD</span></code> (64-bit).  Note that this operand controls the size
of the emulated memory access while the instruction size sets the
size of the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand.</p>
</dd>
<dt>space (address space number)</dt><dd><p>An integer identifying the address space to read from.  May be
<code class="docutils literal notranslate"><span class="pre">SPACE_PROGRAM</span></code>, <code class="docutils literal notranslate"><span class="pre">SPACE_DATA</span></code>, <code class="docutils literal notranslate"><span class="pre">SPACE_IO</span></code> or <code class="docutils literal notranslate"><span class="pre">SPACE_OPCODES</span></code>
for one of the common CPU address spaces, or a non-negative integer
cast to <code class="docutils literal notranslate"><span class="pre">memory_space</span></code>.</p>
</dd>
</dl>
</section>
<section id="id83">
<h4>Flags<a class="headerlink" href="#id83" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id84">
<h4>Simplification rules<a class="headerlink" href="#id84" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">addr</span></code> operand are truncated to 32 bits.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand are truncated to the access
size.</p></li>
</ul>
</section>
</section>
<section id="writem">
<span id="umlinst-writem"></span><h3><a class="toc-backref" href="#id259" role="doc-backlink">WRITEM</a><a class="headerlink" href="#writem" title="Link to this heading">¶</a></h3>
<p>Write to an emulated address space with access mask specified.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">writem</span>  <span class="n">addr</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">mask</span><span class="p">,</span><span class="n">space_size</span>
<span class="n">dwritem</span> <span class="n">addr</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">mask</span><span class="p">,</span><span class="n">space_size</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_WRITEM</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">addr</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">space</span><span class="p">);</span>
<span class="n">UML_DWRITEM</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">addr</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">space</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id85">
<h4>Operands<a class="headerlink" href="#id85" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>addr (32-bit – memory, integer register, immediate, map variable)</dt><dd><p>The address to write to in the emulated address space.  Note that
this is always a 32-bit operand, irrespective of the instruction
size.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The value to write to the emulated address space.</p>
</dd>
<dt>mask (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The access mask for the emulated memory access.</p>
</dd>
<dt>size (access size)</dt><dd><p>The size of the emulated memory access.  Must be <code class="docutils literal notranslate"><span class="pre">SIZE_BYTE</span></code>
(8-bit), <code class="docutils literal notranslate"><span class="pre">SIZE_WORD</span></code> (16-bit), <code class="docutils literal notranslate"><span class="pre">SIZE_DWORD</span></code> (32-bit) or
<code class="docutils literal notranslate"><span class="pre">SIZE_QWORD</span></code> (64-bit).  Note that this operand controls the size
of the emulated memory access while the instruction size sets the
size of the <code class="docutils literal notranslate"><span class="pre">src</span></code> and <code class="docutils literal notranslate"><span class="pre">mask</span></code> operands.</p>
</dd>
<dt>space (address space number)</dt><dd><p>An integer identifying the address space to read from.  May be
<code class="docutils literal notranslate"><span class="pre">SPACE_PROGRAM</span></code>, <code class="docutils literal notranslate"><span class="pre">SPACE_DATA</span></code>, <code class="docutils literal notranslate"><span class="pre">SPACE_IO</span></code> or <code class="docutils literal notranslate"><span class="pre">SPACE_OPCODES</span></code>
for one of the common CPU address spaces, or a non-negative integer
cast to <code class="docutils literal notranslate"><span class="pre">memory_space</span></code>.</p>
</dd>
</dl>
</section>
<section id="id86">
<h4>Flags<a class="headerlink" href="#id86" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id87">
<h4>Simplification rules<a class="headerlink" href="#id87" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">addr</span></code> operand are truncated to 32 bits.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src</span></code> and <code class="docutils literal notranslate"><span class="pre">mask</span></code> operands are truncated
to the access size.</p></li>
<li><p>Converted to <a class="reference internal" href="#umlinst-read"><span class="std std-ref">WRITE</span></a> if the <code class="docutils literal notranslate"><span class="pre">mask</span></code> operand is an
immediate value with all bits set.</p></li>
</ul>
</section>
</section>
<section id="fread">
<span id="umlinst-fread"></span><h3><a class="toc-backref" href="#id260" role="doc-backlink">FREAD</a><a class="headerlink" href="#fread" title="Link to this heading">¶</a></h3>
<p>Read a floating point value from an emulated address space.  The binary
value will be preserved even if it is not a valid representation of a
floating point number.  The access mask is implied to have all bits set.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fsread</span>  <span class="n">dst</span><span class="p">,</span><span class="n">addr</span><span class="p">,</span><span class="n">space_size</span>
<span class="n">fdread</span>  <span class="n">dst</span><span class="p">,</span><span class="n">addr</span><span class="p">,</span><span class="n">space_size</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_FSREAD</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">addr</span><span class="p">,</span><span class="w"> </span><span class="n">space</span><span class="p">);</span>
<span class="n">UML_FDREAD</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">addr</span><span class="p">,</span><span class="w"> </span><span class="n">space</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id88">
<h4>Operands<a class="headerlink" href="#id88" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The destination where the value read from the emulated address space
will be stored.</p>
</dd>
<dt>addr (32-bit – memory, integer register, immediate, map variable)</dt><dd><p>The address to read from in the emulated address space.  Note that
this is always a 32-bit operand, irrespective of the instruction
size.</p>
</dd>
<dt>space (address space number)</dt><dd><p>An integer identifying the address space to read from.  May be
<code class="docutils literal notranslate"><span class="pre">SPACE_PROGRAM</span></code>, <code class="docutils literal notranslate"><span class="pre">SPACE_DATA</span></code>, <code class="docutils literal notranslate"><span class="pre">SPACE_IO</span></code> or <code class="docutils literal notranslate"><span class="pre">SPACE_OPCODES</span></code>
for one of the common CPU address spaces, or a non-negative integer
cast to <code class="docutils literal notranslate"><span class="pre">memory_space</span></code>.</p>
</dd>
</dl>
</section>
<section id="id89">
<h4>Flags<a class="headerlink" href="#id89" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id90">
<h4>Simplification rules<a class="headerlink" href="#id90" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">addr</span></code> operand are truncated to 32 bits.</p></li>
</ul>
</section>
</section>
<section id="fwrite">
<span id="umlinst-fwrite"></span><h3><a class="toc-backref" href="#id261" role="doc-backlink">FWRITE</a><a class="headerlink" href="#fwrite" title="Link to this heading">¶</a></h3>
<p>Write a floating point value to an emulated address space.  The binary
value will be preserved even if it is not a valid representation of a
floating point number.  The access mask is implied to have all bits set.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fswrite</span> <span class="n">addr</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">space_size</span>
<span class="n">fdwrite</span> <span class="n">addr</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">space_size</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_FSWRITE</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">addr</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">space</span><span class="p">);</span>
<span class="n">UML_FDWRITE</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">addr</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">space</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id91">
<h4>Operands<a class="headerlink" href="#id91" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>addr (32-bit – memory, integer register, immediate, map variable)</dt><dd><p>The address to write to in the emulated address space.  Note that
this is always a 32-bit operand, irrespective of the instruction
size.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The value to write to the emulated address space.
will be stored.</p>
</dd>
<dt>space (address space number)</dt><dd><p>An integer identifying the address space to read from.  May be
<code class="docutils literal notranslate"><span class="pre">SPACE_PROGRAM</span></code>, <code class="docutils literal notranslate"><span class="pre">SPACE_DATA</span></code>, <code class="docutils literal notranslate"><span class="pre">SPACE_IO</span></code> or <code class="docutils literal notranslate"><span class="pre">SPACE_OPCODES</span></code>
for one of the common CPU address spaces, or a non-negative integer
cast to <code class="docutils literal notranslate"><span class="pre">memory_space</span></code>.</p>
</dd>
</dl>
</section>
<section id="id92">
<h4>Flags<a class="headerlink" href="#id92" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id93">
<h4>Simplification rules<a class="headerlink" href="#id93" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">addr</span></code> operand are truncated to 32 bits.</p></li>
</ul>
</section>
</section>
</section>
<section id="integer-arithmetic-and-logic">
<span id="umlinst-intarith"></span><h2><a class="toc-backref" href="#id262" role="doc-backlink">Integer arithmetic and logic</a><a class="headerlink" href="#integer-arithmetic-and-logic" title="Link to this heading">¶</a></h2>
<section id="add">
<span id="umlinst-add"></span><h3><a class="toc-backref" href="#id263" role="doc-backlink">ADD</a><a class="headerlink" href="#add" title="Link to this heading">¶</a></h3>
<p>Add two integers.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">add</span>     <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">dadd</span>    <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_ADD</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_DADD</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Calculates <code class="docutils literal notranslate"><span class="pre">dst</span> <span class="pre">=</span> <span class="pre">src1</span> <span class="pre">+</span> <span class="pre">src2</span></code>.</p>
<section id="id94">
<h4>Operands<a class="headerlink" href="#id94" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the sum will be stored.</p>
</dd>
<dt>src1 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The first addend.</p>
</dd>
<dt>src2 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The second addend.</p>
</dd>
</dl>
</section>
<section id="id95">
<h4>Flags<a class="headerlink" href="#id95" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Set in the case of arithmetic carry out of the most significant bit,
or cleared otherwise (unsigned overflow).</p>
</dd>
<dt>overflow (V)</dt><dd><p>Set in the case of signed two’s complement overflow, or cleared
otherwise.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result (set if
the result is a negative signed integer value, or cleared
otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id96">
<h4>Simplification rules<a class="headerlink" href="#id96" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a>, <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> or
<a class="reference internal" href="#umlinst-or"><span class="std std-ref">OR</span></a> if the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are both
immediate values and the carry and overflow flags are not required.</p></li>
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a> or <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> if
the <code class="docutils literal notranslate"><span class="pre">src1</span></code> operand or <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand is the immediate value zero
and the carry and overflow flags are not required.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are truncated
to the instruction size.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">src2</span></code> and <code class="docutils literal notranslate"><span class="pre">dst</span></code> operands refer to the same register or
memory location, the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are exchanged.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">src1</span></code> operand is an immediate value and the <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand
is not an immediate value, the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are
exchanged.</p></li>
</ul>
</section>
</section>
<section id="addc">
<span id="umlinst-addc"></span><h3><a class="toc-backref" href="#id264" role="doc-backlink">ADDC</a><a class="headerlink" href="#addc" title="Link to this heading">¶</a></h3>
<p>Add two integers and the carry flag.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">addc</span>    <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">daddc</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_ADDC</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_DADDC</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Calculates <code class="docutils literal notranslate"><span class="pre">dst</span> <span class="pre">=</span> <span class="pre">src1</span> <span class="pre">+</span> <span class="pre">src2</span> <span class="pre">+</span> <span class="pre">C</span></code>.</p>
<section id="id97">
<h4>Operands<a class="headerlink" href="#id97" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the sum will be stored.</p>
</dd>
<dt>src1 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The first addend.</p>
</dd>
<dt>src2 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The second addend.</p>
</dd>
</dl>
</section>
<section id="id98">
<h4>Flags<a class="headerlink" href="#id98" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Set in the case of arithmetic carry out of the most significant bit,
or cleared otherwise (unsigned overflow).</p>
</dd>
<dt>overflow (V)</dt><dd><p>Set in the case of signed two’s complement overflow, or cleared
otherwise.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result (set if
the result is a negative signed integer value, or cleared
otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id99">
<h4>Simplification rules<a class="headerlink" href="#id99" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are truncated
to the instruction size.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">src2</span></code> and <code class="docutils literal notranslate"><span class="pre">dst</span></code> operands refer to the same register or
memory location, the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are exchanged.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">src1</span></code> operand is an immediate value and the <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand
is not an immediate value, the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are
exchanged.</p></li>
</ul>
</section>
</section>
<section id="sub">
<span id="umlinst-sub"></span><h3><a class="toc-backref" href="#id265" role="doc-backlink">SUB</a><a class="headerlink" href="#sub" title="Link to this heading">¶</a></h3>
<p>Subtract an integer from another integer.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sub</span>     <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">dsub</span>    <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_SUB</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_DSUB</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Calculates <code class="docutils literal notranslate"><span class="pre">dst</span> <span class="pre">=</span> <span class="pre">src1</span> <span class="pre">-</span> <span class="pre">src2</span></code>.</p>
<section id="id100">
<h4>Operands<a class="headerlink" href="#id100" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the difference will be stored.</p>
</dd>
<dt>src1 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The minuend (the value to subtract from).</p>
</dd>
<dt>src2 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The subtrahend (the value to subtract).</p>
</dd>
</dl>
</section>
<section id="id101">
<h4>Flags<a class="headerlink" href="#id101" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Set if the subtrahend is a larger unsigned value than the minuend,
or cleared otherwise (unsigned overflow, or arithmetic borrow).</p>
</dd>
<dt>overflow (V)</dt><dd><p>Set in the case of signed two’s complement overflow, or cleared
otherwise.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise (set if the minuend
and subtrahend are equal, or cleared otherwise).</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result (set if
the result is a negative signed integer value, or cleared
otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id102">
<h4>Simplification rules<a class="headerlink" href="#id102" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a>, <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> or
<a class="reference internal" href="#umlinst-or"><span class="std std-ref">OR</span></a> if the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are both
immediate values and the carry and overflow flags are not required.</p></li>
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a> or <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> if
the <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand is the immediate value zero and the carry and
overflow flags are not required.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are truncated
to the instruction size.</p></li>
</ul>
</section>
</section>
<section id="subb">
<span id="umlinst-subb"></span><h3><a class="toc-backref" href="#id266" role="doc-backlink">SUBB</a><a class="headerlink" href="#subb" title="Link to this heading">¶</a></h3>
<p>Subtract an integer and the carry flag from another integer.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subb</span>    <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">dsubb</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_SUBB</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_DSUBB</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Calculates <code class="docutils literal notranslate"><span class="pre">dst</span> <span class="pre">=</span> <span class="pre">src1</span> <span class="pre">-</span> <span class="pre">src2</span> <span class="pre">-</span> <span class="pre">C</span></code>.</p>
<section id="id103">
<h4>Operands<a class="headerlink" href="#id103" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the difference will be stored.</p>
</dd>
<dt>src1 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The minuend (the value to subtract from).</p>
</dd>
<dt>src2 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The subtrahend (the value to subtract).</p>
</dd>
</dl>
</section>
<section id="id104">
<h4>Flags<a class="headerlink" href="#id104" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Set if the subtrahend plus the carry flag is a larger unsigned value
than the minuend, or cleared otherwise (unsigned overflow, or
arithmetic borrow).</p>
</dd>
<dt>overflow (V)</dt><dd><p>Set in the case of signed two’s complement overflow, or cleared
otherwise.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise (set if the minuend
is equal to the subtrahend plus the carry flag, or cleared
otherwise).</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result (set if
the result is a negative signed integer value, or cleared
otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id105">
<h4>Simplification rules<a class="headerlink" href="#id105" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are truncated
to the instruction size.</p></li>
</ul>
</section>
</section>
<section id="cmp">
<span id="umlinst-cmp"></span><h3><a class="toc-backref" href="#id267" role="doc-backlink">CMP</a><a class="headerlink" href="#cmp" title="Link to this heading">¶</a></h3>
<p>Compare two integers and set the flags as though they were subtracted.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmp</span>     <span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">dcmp</span>    <span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_CMP</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_DCMP</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Sets the flags based on calculating <code class="docutils literal notranslate"><span class="pre">src1</span> <span class="pre">-</span> <span class="pre">src2</span></code> but discards the
result of the subtraction.</p>
<section id="id106">
<h4>Operands<a class="headerlink" href="#id106" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>src1 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The left-hand side value to compare, or the minuend (the value to
subtract from).</p>
</dd>
<dt>src2 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The right-hand side value to compare, or the subtrahend (the value
to subtract).</p>
</dd>
</dl>
</section>
<section id="id107">
<h4>Flags<a class="headerlink" href="#id107" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Set if the unsigned value of the <code class="docutils literal notranslate"><span class="pre">src1</span></code> operand is smaller than
the unsigned value of the <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand, or cleared otherwise.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Set if subtracting the value of the <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand from the value
of the <code class="docutils literal notranslate"><span class="pre">src1</span></code> operand would result in two’s complement overflow,
or cleared otherwise.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the values of the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are equal,
or cleared otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result of
subtracting the value of the <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand from the value of the
<code class="docutils literal notranslate"><span class="pre">src1</span></code> operand (set if the result would be a negative signed
integer, or cleared otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id108">
<h4>Simplification rules<a class="headerlink" href="#id108" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-nop"><span class="std std-ref">NOP</span></a> if no flags are required.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are truncated
to the instruction size.</p></li>
</ul>
</section>
</section>
<section id="and">
<span id="umlinst-and"></span><h3><a class="toc-backref" href="#id268" role="doc-backlink">AND</a><a class="headerlink" href="#and" title="Link to this heading">¶</a></h3>
<p>Calculate the bitwise logical conjunction of two integers (result bits
will be set if the corresponding bits are set in both inputs).</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ow">and</span>     <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">dand</span>    <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_AND</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_DAND</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Calculates <code class="docutils literal notranslate"><span class="pre">dst</span> <span class="pre">=</span> <span class="pre">src1</span> <span class="pre">&amp;</span> <span class="pre">src2</span></code>.</p>
<section id="id109">
<h4>Operands<a class="headerlink" href="#id109" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the logical conjunction will be stored.</p>
</dd>
<dt>src1 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The first input.</p>
</dd>
<dt>src2 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The second input.</p>
</dd>
</dl>
</section>
<section id="id110">
<h4>Flags<a class="headerlink" href="#id110" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result (set if
the result is a negative signed integer value, or cleared
otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id111">
<h4>Simplification rules<a class="headerlink" href="#id111" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a> if the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code>
operands refer to the same memory location or register, the <code class="docutils literal notranslate"><span class="pre">src1</span></code>
and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are both immediate values or one of them is an
immediate value with all bits set or no bits set and flags are not
required.</p></li>
<li><p>Converted to <a class="reference internal" href="#umlinst-or"><span class="std std-ref">OR</span></a> if the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code>
operands are both immediate values with all bits set and flags are
required.</p></li>
<li><p>Converted to <a class="reference internal" href="#umlinst-test"><span class="std std-ref">TEST</span></a> if the instruction size is
64 bits or the <code class="docutils literal notranslate"><span class="pre">dst</span></code> operand refers to a memory location, one of the
<code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands refer to the same memory location or
register as <code class="docutils literal notranslate"><span class="pre">dst</span></code>, the other source operand refers to the same
memory location or register or is an immediate value with all bits
set, and flags are required.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are both immediate values, the
conjunction is not zero and flags are required, <code class="docutils literal notranslate"><span class="pre">src1</span></code> is replaced
with the conjunction and <code class="docutils literal notranslate"><span class="pre">src2</span></code> is set to an immediate value with
all bits set.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are both immediate values and
the conjunction is zero or either the <code class="docutils literal notranslate"><span class="pre">src1</span></code> or <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand is
the immediate value zero and flags are required, <code class="docutils literal notranslate"><span class="pre">src1</span></code> is set to
refer to the same memory location or register as <code class="docutils literal notranslate"><span class="pre">dst</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code>
is set to the immediate value zero.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are truncated
to the instruction size.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">src2</span></code> and <code class="docutils literal notranslate"><span class="pre">dst</span></code> operands refer to the same register or
memory location, the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are exchanged.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">src1</span></code> operand is an immediate value and the <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand
is not an immediate value, the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are
exchanged.</p></li>
</ul>
</section>
</section>
<section id="test">
<span id="umlinst-test"></span><h3><a class="toc-backref" href="#id269" role="doc-backlink">TEST</a><a class="headerlink" href="#test" title="Link to this heading">¶</a></h3>
<p>Set the flags based on the bitwise logical conjunction of two integers.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">test</span>    <span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">dtest</span>   <span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_TEST</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_DTEST</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Sets the flags based on calculating <code class="docutils literal notranslate"><span class="pre">src1</span> <span class="pre">&amp;</span> <span class="pre">src2</span></code> but discards the
result of the conjunction.</p>
<section id="id112">
<h4>Operands<a class="headerlink" href="#id112" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>src1 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The first input.</p>
</dd>
<dt>src2 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The second input.</p>
</dd>
</dl>
</section>
<section id="id113">
<h4>Flags<a class="headerlink" href="#id113" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result of the conjunction is zero, or cleared otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set if the most significant bit is set in both inputs, or cleared
otherwise (set if the both inputs are negative signed integers, or
cleared otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id114">
<h4>Simplification rules<a class="headerlink" href="#id114" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-nop"><span class="std std-ref">NOP</span></a> if flags are not required.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are both immediate values and
the bitwise logical conjunction is not zero, the <code class="docutils literal notranslate"><span class="pre">src1</span></code> operand is
set to the conjunction and the <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand is set to an immediate
value with all bits set.</p></li>
<li><p>If either of the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands is the immediate value
zero or the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are both immediate values
and the bitwise logical conjunction is zero, the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code>
operands are both set to the immediate value zero.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands refer to the same memory
location or register, the <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand is set to an immediate
value with all bits set.  * Immediate values for the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and
<code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are truncated to the instruction size.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">src1</span></code> operand is an immediate value and the <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand
is not an immediate value, the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are
exchanged.</p></li>
</ul>
</section>
</section>
<section id="or">
<span id="umlinst-or"></span><h3><a class="toc-backref" href="#id270" role="doc-backlink">OR</a><a class="headerlink" href="#or" title="Link to this heading">¶</a></h3>
<p>Calculate the bitwise logical inclusive disjunction of two integers (result bits
will be set if the corresponding bits are set in either input).</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ow">or</span>      <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">dor</span>     <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_OR</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_DOR</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Calculates <code class="docutils literal notranslate"><span class="pre">dst</span> <span class="pre">=</span> <span class="pre">src1</span> <span class="pre">|</span> <span class="pre">src2</span></code>.</p>
<section id="id115">
<h4>Operands<a class="headerlink" href="#id115" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the logical inclusive disjunction will be
stored.</p>
</dd>
<dt>src1 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The first input.</p>
</dd>
<dt>src2 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The second input.</p>
</dd>
</dl>
</section>
<section id="id116">
<h4>Flags<a class="headerlink" href="#id116" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result (set if
the result is a negative signed integer value, or cleared
otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id117">
<h4>Simplification rules<a class="headerlink" href="#id117" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a> if the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code>
operands are both immediate values or one of the <code class="docutils literal notranslate"><span class="pre">src1</span></code> or <code class="docutils literal notranslate"><span class="pre">src2</span></code>
operands is an immediate value with all bits set and flags are not
required.</p></li>
<li><p>Converted to <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> if the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code>
operands are both immediate values and the inclusive disjunction does
not have all bits set and flags are required.</p></li>
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a>, <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> or
<a class="reference internal" href="#umlinst-test"><span class="std std-ref">TEST</span></a> if the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands refer
to the same memory location or register or if one of the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and
<code class="docutils literal notranslate"><span class="pre">src2</span></code> operands is the immediate value zero.</p></li>
<li><p>If one of the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands is an immediate value
with all bits set or the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are both
immediate values and the inclusive disjunction has all bits set and
flags are required, <code class="docutils literal notranslate"><span class="pre">src1</span></code> is set to refer to the same memory
location or register as <code class="docutils literal notranslate"><span class="pre">dst</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> is set to an immediate
value with all bits set.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are truncated
to the instruction size.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">src2</span></code> and <code class="docutils literal notranslate"><span class="pre">dst</span></code> operands refer to the same register or
memory location, the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are exchanged.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">src1</span></code> operand is an immediate value and the <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand
is not an immediate value, the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are
exchanged.</p></li>
</ul>
</section>
</section>
<section id="xor">
<span id="umlinst-xor"></span><h3><a class="toc-backref" href="#id271" role="doc-backlink">XOR</a><a class="headerlink" href="#xor" title="Link to this heading">¶</a></h3>
<p>Calculate the bitwise logical exclusive disjunction of two integers
(result bits will be set if the corresponding bit is set in one input
and unset in the other input).</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xor</span>     <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">dxor</span>    <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_XOR</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_DXOR</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Calculates <code class="docutils literal notranslate"><span class="pre">dst</span> <span class="pre">=</span> <span class="pre">src1</span> <span class="pre">^</span> <span class="pre">src2</span></code>.</p>
<section id="id118">
<h4>Operands<a class="headerlink" href="#id118" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the logical exclusive disjunction will be
stored.</p>
</dd>
<dt>src1 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The first input.</p>
</dd>
<dt>src2 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The second input.</p>
</dd>
</dl>
</section>
<section id="id119">
<h4>Flags<a class="headerlink" href="#id119" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result (set if
the result is a negative signed integer value, or cleared
otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id120">
<h4>Simplification rules<a class="headerlink" href="#id120" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a>, <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a>,
<a class="reference internal" href="#umlinst-test"><span class="std std-ref">TEST</span></a> or <a class="reference internal" href="#umlinst-or"><span class="std std-ref">OR</span></a> if the <code class="docutils literal notranslate"><span class="pre">src1</span></code>
and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are both immediate values, if one of the
<code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands is the immediate value zero or if the
<code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands refer to the same memory location or
register.</p></li>
</ul>
</section>
</section>
<section id="sext">
<span id="umlinst-sext"></span><h3><a class="toc-backref" href="#id272" role="doc-backlink">SEXT</a><a class="headerlink" href="#sext" title="Link to this heading">¶</a></h3>
<p>Sign extend an integer value.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sext</span>    <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">size</span>
<span class="n">dsext</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">size</span>
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UML_SEXT</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">size</span><span class="p">);</span>
<span class="n">UML_DSEXT</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">size</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Sets <code class="docutils literal notranslate"><span class="pre">dst</span></code> to the value of <code class="docutils literal notranslate"><span class="pre">src</span></code> sign extended from the size
specified by the <code class="docutils literal notranslate"><span class="pre">size</span></code> operand to the instruction size.</p>
<section id="id121">
<h4>Operands<a class="headerlink" href="#id121" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the sign extended value will be stored.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The value to sign extend.</p>
</dd>
<dt>size (access size)</dt><dd><p>The size of the value to sign extend.  Must be <code class="docutils literal notranslate"><span class="pre">SIZE_BYTE</span></code>
(8-bit), <code class="docutils literal notranslate"><span class="pre">SIZE_WORD</span></code> (16-bit) or <code class="docutils literal notranslate"><span class="pre">SIZE_DWORD</span></code> (32-bit).</p>
</dd>
</dl>
</section>
<section id="id122">
<h4>Flags<a class="headerlink" href="#id122" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result (set if
the result is a negative signed integer value, or cleared
otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id123">
<h4>Simplification rules<a class="headerlink" href="#id123" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a>, <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> or
<a class="reference internal" href="#umlinst-or"><span class="std std-ref">OR</span></a> if the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand is an immediate value or
if the <code class="docutils literal notranslate"><span class="pre">size</span></code> operand specifies a size no smaller than the
instruction size.</p></li>
</ul>
</section>
</section>
<section id="lzcnt">
<span id="umlinst-lzcnt"></span><h3><a class="toc-backref" href="#id273" role="doc-backlink">LZCNT</a><a class="headerlink" href="#lzcnt" title="Link to this heading">¶</a></h3>
<p>Count the number of contiguous left-aligned zero bits in an integer
(count leading zeroes).</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lzcnt</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
<span class="n">dlzcnt</span>  <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_LZCNT</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
<span class="n">UML_DLZCNT</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id124">
<h4>Operands<a class="headerlink" href="#id124" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the result will be stored.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The input value in which to count left-aligned zero bits.</p>
</dd>
</dl>
</section>
<section id="id125">
<h4>Flags<a class="headerlink" href="#id125" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise (set to the most
significant bit of the input).</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id126">
<h4>Simplification rules<a class="headerlink" href="#id126" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a> or <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> if
the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand is an immediate value.</p></li>
</ul>
</section>
</section>
<section id="tzcnt">
<span id="umlinst-tzcnt"></span><h3><a class="toc-backref" href="#id274" role="doc-backlink">TZCNT</a><a class="headerlink" href="#tzcnt" title="Link to this heading">¶</a></h3>
<p>Count the number of contiguous right-aligned zero bits in an integer
(count trailing zeroes).</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tzcnt</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
<span class="n">dtzcnt</span>  <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_TZCNT</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
<span class="n">UML_DTZCNT</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id127">
<h4>Operands<a class="headerlink" href="#id127" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the result will be stored.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The input value in which to count right-aligned zero bits.</p>
</dd>
</dl>
</section>
<section id="id128">
<h4>Flags<a class="headerlink" href="#id128" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise (set to the least
significant bit of the input).</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id129">
<h4>Simplification rules<a class="headerlink" href="#id129" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a> or <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> if
the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand is an immediate value.</p></li>
</ul>
</section>
</section>
</section>
<section id="integer-multiply-and-divide">
<span id="umlinst-intmuldiv"></span><h2><a class="toc-backref" href="#id275" role="doc-backlink">Integer multiply and divide</a><a class="headerlink" href="#integer-multiply-and-divide" title="Link to this heading">¶</a></h2>
<section id="mullw">
<span id="umlinst-mullw"></span><h3><a class="toc-backref" href="#id276" role="doc-backlink">MULLW</a><a class="headerlink" href="#mullw" title="Link to this heading">¶</a></h3>
<p>Multiply two integer values.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mululw</span>  <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">mulslw</span>  <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">dmululw</span> <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">dmulslw</span> <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_MULULW</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_MULSLW</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_DMULULW</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_DMULSLW</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Calculates <code class="docutils literal notranslate"><span class="pre">dst</span> <span class="pre">=</span> <span class="pre">src1</span> <span class="pre">*</span> <span class="pre">src2</span></code> producing a result the same size as the
inputs.  MULULW and DMULULW take unsigned integer values as inputs and
produce an unsigned integer value as a result, while MULSLW and DMULSLW
take signed integer values as inputs and produce a signed integer value
as a result.  Note that the distinction between signed and unsigned
values only affects the calculation of the overflow flag for this
instruction.  It does not affect the result of the multiplication.</p>
<section id="id130">
<h4>Operands<a class="headerlink" href="#id130" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the product will be stored.</p>
</dd>
<dt>src1 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The multiplicand (the value to multiply).</p>
</dd>
<dt>src2 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The multiplier (the value to multiply by).</p>
</dd>
</dl>
</section>
<section id="id131">
<h4>Flags<a class="headerlink" href="#id131" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Set if the full result of the multiplication cannot be represented
within the instruction size.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise.  Note that this is
based on the possibly truncated result value, not the full result of
the multiplication.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result (set if
the result is a negative signed integer value, or cleared
otherwise).  Note that this is based on the possibly truncated
result value, not the full result of the multiplication.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id132">
<h4>Simplification rules<a class="headerlink" href="#id132" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a>, <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> or
<a class="reference internal" href="#umlinst-or"><span class="std std-ref">OR</span></a> if the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are both
immediate values or either the <code class="docutils literal notranslate"><span class="pre">src1</span></code> or <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand is the
immediate value zero or one and the overflow flag is not required.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are truncated
to the instruction size.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">src2</span></code> and <code class="docutils literal notranslate"><span class="pre">dst</span></code> operands refer to the same register or
memory location, the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are exchanged.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">src1</span></code> operand is an immediate value and the <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand
is not an immediate value, the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are
exchanged.</p></li>
</ul>
</section>
</section>
<section id="mul">
<span id="umlinst-mul"></span><h3><a class="toc-backref" href="#id277" role="doc-backlink">MUL</a><a class="headerlink" href="#mul" title="Link to this heading">¶</a></h3>
<p>Multiply two integer values, possibly producing an extended result.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mulu</span>    <span class="n">dst</span><span class="p">,</span><span class="n">edst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">muls</span>    <span class="n">dst</span><span class="p">,</span><span class="n">edst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">dmulu</span>   <span class="n">dst</span><span class="p">,</span><span class="n">edst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">dmuls</span>   <span class="n">dst</span><span class="p">,</span><span class="n">edst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_MULU</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">edst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_MULS</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">edst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_DMULU</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">edst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_DMULS</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">edst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Calculates <code class="docutils literal notranslate"><span class="pre">edst:dst</span> <span class="pre">=</span> <span class="pre">src1</span> <span class="pre">*</span> <span class="pre">src2</span></code> if the <code class="docutils literal notranslate"><span class="pre">dst</span></code> and <code class="docutils literal notranslate"><span class="pre">edst</span></code>
operands do not refer to the same register or memory location, or
<code class="docutils literal notranslate"><span class="pre">dst</span> <span class="pre">=</span> <span class="pre">src1</span> <span class="pre">*</span> <span class="pre">src2</span></code> if the <code class="docutils literal notranslate"><span class="pre">dst</span></code> and <code class="docutils literal notranslate"><span class="pre">edst</span></code> operands refer to the
same register or memory location.  MULU and DMULU take unsigned integer
values as inputs and produce an unsigned integer value as a result,
while MULS and DMULS take signed integer values as inputs and produce a
signed integer value as a result.</p>
<section id="id133">
<h4>Operands<a class="headerlink" href="#id133" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the least significant half of the full product
will be stored.</p>
</dd>
<dt>edst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the most significant half of the full product
will be stored if this operand does not refer to the same memory
location or register as the <code class="docutils literal notranslate"><span class="pre">dst</span></code> operand.  If this operand refers
to the same memory location or register as the <code class="docutils literal notranslate"><span class="pre">dst</span></code> operand, the
most significant half of the full product will be discarded,
producing a result the same size as the inputs.</p>
</dd>
<dt>src1 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The multiplicand (the value to multiply).</p>
</dd>
<dt>src2 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The multiplier (the value to multiply by).</p>
</dd>
</dl>
</section>
<section id="id134">
<h4>Flags<a class="headerlink" href="#id134" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Set if the full result of the multiplication cannot be represented
within the instruction size.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the full result of the multiplication is zero, or cleared
otherwise.  Note that this is based on the full result of the
multiplication even when the <code class="docutils literal notranslate"><span class="pre">dst</span></code> and <code class="docutils literal notranslate"><span class="pre">edst</span></code> operands refer to
the same memory location or register, causing the result to be
truncated.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the full result of
the multiplication (set if the result is a negative signed integer
value, or cleared otherwise).  Note that this is based on the full
result of the multiplication even when the <code class="docutils literal notranslate"><span class="pre">dst</span></code> and <code class="docutils literal notranslate"><span class="pre">edst</span></code>
operands refer to the same memory location or register, causing the
result to be truncated.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id135">
<h4>Simplification rules<a class="headerlink" href="#id135" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mullw"><span class="std std-ref">MULLW</span></a> if the <code class="docutils literal notranslate"><span class="pre">dst</span></code> and <code class="docutils literal notranslate"><span class="pre">edst</span></code>
operands refer to the same memory location or register and the zero
and sign flags are not required.</p></li>
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a>, <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> or
<a class="reference internal" href="#umlinst-or"><span class="std std-ref">OR</span></a> if the <code class="docutils literal notranslate"><span class="pre">dst</span></code> and <code class="docutils literal notranslate"><span class="pre">edst</span></code> operands refer to
the same memory location or register, the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code>
operands are both immediate values or either the <code class="docutils literal notranslate"><span class="pre">src1</span></code> or <code class="docutils literal notranslate"><span class="pre">src2</span></code>
operand is the immediate value zero, the most significant half of the
full result of the multiplication is the sign extension of the least
significant half or the sign flag is not required, and the overflow
flag is not required.</p></li>
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a> or <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> if
the <code class="docutils literal notranslate"><span class="pre">dst</span></code> and <code class="docutils literal notranslate"><span class="pre">edst</span></code> operands refer to the same memory location or
register, either the <code class="docutils literal notranslate"><span class="pre">src1</span></code> or <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand is the immediate
value one, signed multiplication is being performed or the sign flag
is not required, and the overflow flag is not required.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are truncated
to the instruction size.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">src1</span></code> operand is an immediate value and the <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand
is not an immediate value, the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are
exchanged.</p></li>
</ul>
</section>
</section>
<section id="div">
<span id="umlinst-div"></span><h3><a class="toc-backref" href="#id278" role="doc-backlink">DIV</a><a class="headerlink" href="#div" title="Link to this heading">¶</a></h3>
<p>Divide an integer value by another integer value.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">divu</span>    <span class="n">dst</span><span class="p">,</span><span class="n">edst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">divs</span>    <span class="n">dst</span><span class="p">,</span><span class="n">edst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">ddivu</span>   <span class="n">dst</span><span class="p">,</span><span class="n">edst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">ddivs</span>   <span class="n">dst</span><span class="p">,</span><span class="n">edst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_DIVU</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">edst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_DIVS</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">edst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_DDIVU</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">edst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_DDIVS</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">edst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>If the value of <code class="docutils literal notranslate"><span class="pre">src2</span></code> is not zero, the value of <code class="docutils literal notranslate"><span class="pre">src1</span></code> is divided
by the value of <code class="docutils literal notranslate"><span class="pre">src2</span></code>, the quotient is stored in the memory location
or register referred to by <code class="docutils literal notranslate"><span class="pre">dst</span></code>, and the remainder is stored in the
memory location or register referred to by <code class="docutils literal notranslate"><span class="pre">edst</span></code> if the <code class="docutils literal notranslate"><span class="pre">dst</span></code> and
<code class="docutils literal notranslate"><span class="pre">edst</span></code> operands do not refer to the same memory location or register.</p>
<p>If the value of <code class="docutils literal notranslate"><span class="pre">src2</span></code> is zero, the overflow flag is set and the
values of the memory locations or registers referred to by the <code class="docutils literal notranslate"><span class="pre">dst</span></code>
and <code class="docutils literal notranslate"><span class="pre">edst</span></code> operands are undefined.</p>
<p>DIVU and DDIVU take unsigned integer values as inputs and produce
unsigned integer values as results, while DIVS and DDIVS take signed
integer values as inputs and produce signed integer values as results.</p>
<section id="id136">
<h4>Operands<a class="headerlink" href="#id136" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the quotient will be stored if the value of
the <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand is not zero.</p>
</dd>
<dt>edst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the value of the remainder will be stored if
this operand does not refer to the same memory location or register
as the <code class="docutils literal notranslate"><span class="pre">dst</span></code> operand and the value of the <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand is not
zero.</p>
</dd>
<dt>src1 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The dividend (the value to divide).</p>
</dd>
<dt>src2 (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The divisor (the value to divide by).</p>
</dd>
</dl>
</section>
<section id="id137">
<h4>Flags<a class="headerlink" href="#id137" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Set if the divisor (the value of the <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand) is zero, or
cleared otherwise.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the divisor (the value of the <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand) is not zero
and the quotient is zero, or cleared otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the most significant bit of the quotient (set if the quotient
is a negative signed integer value) if the divisor (the value of the
<code class="docutils literal notranslate"><span class="pre">src2</span></code> operand) is not zero, or cleared otherwise.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id138">
<h4>Simplification rules<a class="headerlink" href="#id138" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a>, <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> or
<a class="reference internal" href="#umlinst-or"><span class="std std-ref">OR</span></a> if the <code class="docutils literal notranslate"><span class="pre">dst</span></code> and <code class="docutils literal notranslate"><span class="pre">edst</span></code> operands refer to
the same memory location or register, the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code>
operands are both immediate values or <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand is the
immediate value one, the <code class="docutils literal notranslate"><span class="pre">src2</span></code> operand is not the immediate value
zero, and the overflow flag is not required.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> operands are truncated
to the instruction size.</p></li>
</ul>
</section>
</section>
</section>
<section id="integer-shift-and-rotate">
<span id="umlinst-intshift"></span><h2><a class="toc-backref" href="#id279" role="doc-backlink">Integer shift and rotate</a><a class="headerlink" href="#integer-shift-and-rotate" title="Link to this heading">¶</a></h2>
<section id="shl">
<span id="umlinst-shl"></span><h3><a class="toc-backref" href="#id280" role="doc-backlink">SHL</a><a class="headerlink" href="#shl" title="Link to this heading">¶</a></h3>
<p>Shift an integer value to the left (toward the most significant bit
position), shifting zeroes into the least significant bit.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">shl</span>     <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">count</span>
<span class="n">dshl</span>    <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">count</span>
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UML_SHL</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span>
<span class="n">UML_DSHL</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Sets <code class="docutils literal notranslate"><span class="pre">dst</span></code> to the value of <code class="docutils literal notranslate"><span class="pre">src</span></code> shifted left by <code class="docutils literal notranslate"><span class="pre">count</span></code> bit
positions modulo the operand size in bits.  Zeroes are shifted into the
least significant bit position.</p>
<section id="id139">
<h4>Operands<a class="headerlink" href="#id139" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the shifted value will be stored.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The value to shift.</p>
</dd>
<dt>count (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The number of bit positions to shift by.  Only the least significant
five bits or six bits of this operand are used, depending on the
instruction size.</p>
</dd>
</dl>
</section>
<section id="id140">
<h4>Flags<a class="headerlink" href="#id140" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Set to the value of the last bit shifted out of the most significant
bit position if the shift count modulo the operand size in bits is
non-zero, or cleared if the shift count modulo the operand size in
bits is zero.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result (set if
the result is a negative signed integer value, or cleared
otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id141">
<h4>Simplification rules<a class="headerlink" href="#id141" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a>, <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> or
<a class="reference internal" href="#umlinst-or"><span class="std std-ref">OR</span></a> if the <code class="docutils literal notranslate"><span class="pre">src</span></code> and <code class="docutils literal notranslate"><span class="pre">count</span></code> operands are both
immediate values or the <code class="docutils literal notranslate"><span class="pre">count</span></code> operand is the immediate value zero
and the carry flag is not required.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand are truncated to the
instruction size.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">count</span></code> operand are truncated to five or
six bits for 32-bit or 64-bit operands, respectively.</p></li>
</ul>
</section>
</section>
<section id="shr">
<span id="umlinst-shr"></span><h3><a class="toc-backref" href="#id281" role="doc-backlink">SHR</a><a class="headerlink" href="#shr" title="Link to this heading">¶</a></h3>
<p>Shift an integer value to the right (toward the least significant bit
position), shifting zeroes into the most significant bit.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">shr</span>     <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">count</span>
<span class="n">dshr</span>    <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">count</span>
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UML_SHR</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span>
<span class="n">UML_DSHR</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Sets <code class="docutils literal notranslate"><span class="pre">dst</span></code> to the value of <code class="docutils literal notranslate"><span class="pre">src</span></code> shifted right by <code class="docutils literal notranslate"><span class="pre">count</span></code> bit
positions modulo the operand size in bits.  Zeroes are shifted into the
most significant bit position.</p>
<section id="id142">
<h4>Operands<a class="headerlink" href="#id142" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the shifted value will be stored.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The value to shift.</p>
</dd>
<dt>count (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The number of bit positions to shift by.  Only the least significant
five bits or six bits of this operand are used, depending on the
instruction size.</p>
</dd>
</dl>
</section>
<section id="id143">
<h4>Flags<a class="headerlink" href="#id143" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Set to the value of the last bit shifted out of the least
significant bit position if the shift count modulo the operand size
in bits is non-zero, or cleared if the shift count modulo the
operand size in bits is zero.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result (set if
the result is a negative signed integer value, or cleared
otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id144">
<h4>Simplification rules<a class="headerlink" href="#id144" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a>, <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> or
<a class="reference internal" href="#umlinst-or"><span class="std std-ref">OR</span></a> if the <code class="docutils literal notranslate"><span class="pre">src</span></code> and <code class="docutils literal notranslate"><span class="pre">count</span></code> operands are both
immediate values or the <code class="docutils literal notranslate"><span class="pre">count</span></code> operand is the immediate value zero
and the carry flag is not required.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand are truncated to the
instruction size.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">count</span></code> operand are truncated to five or
six bits for 32-bit or 64-bit operands, respectively.</p></li>
</ul>
</section>
</section>
<section id="sar">
<span id="umlinst-sar"></span><h3><a class="toc-backref" href="#id282" role="doc-backlink">SAR</a><a class="headerlink" href="#sar" title="Link to this heading">¶</a></h3>
<p>Shift an integer value to the right (toward the least significant bit
position), preserving the value of the most significant bit.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sar</span>     <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">count</span>
<span class="n">dsar</span>    <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">count</span>
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UML_SAR</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span>
<span class="n">UML_DSAR</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Sets <code class="docutils literal notranslate"><span class="pre">dst</span></code> to the value of <code class="docutils literal notranslate"><span class="pre">src</span></code> shifted right by <code class="docutils literal notranslate"><span class="pre">count</span></code> bit
positions modulo the operand size in bits.  The value of the most
significant bit is preserved  after each shift step.</p>
<section id="id145">
<h4>Operands<a class="headerlink" href="#id145" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the shifted value will be stored.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The value to shift.</p>
</dd>
<dt>count (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The number of bit positions to shift by.  Only the least significant
five bits or six bits of this operand are used, depending on the
instruction size.</p>
</dd>
</dl>
</section>
<section id="id146">
<h4>Flags<a class="headerlink" href="#id146" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Set to the value of the last bit shifted out of the least
significant bit position if the shift count modulo the operand size
in bits is non-zero, or cleared if the shift count modulo the
operand size in bits is zero.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result (set if
the result is a negative signed integer value, or cleared
otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id147">
<h4>Simplification rules<a class="headerlink" href="#id147" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a>, <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> or
<a class="reference internal" href="#umlinst-or"><span class="std std-ref">OR</span></a> if the <code class="docutils literal notranslate"><span class="pre">src</span></code> and <code class="docutils literal notranslate"><span class="pre">count</span></code> operands are both
immediate values or the <code class="docutils literal notranslate"><span class="pre">count</span></code> operand is the immediate value zero
and the carry flag is not required.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand are truncated to the
instruction size.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">count</span></code> operand are truncated to five or
six bits for 32-bit or 64-bit operands, respectively.</p></li>
</ul>
</section>
</section>
<section id="rol">
<span id="umlinst-rol"></span><h3><a class="toc-backref" href="#id283" role="doc-backlink">ROL</a><a class="headerlink" href="#rol" title="Link to this heading">¶</a></h3>
<p>Rotate an integer value to the left (toward the most significant bit
position).  Bits shifted out of the most significant bit position are
shifted into the least significant bit position.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rol</span>     <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">count</span>
<span class="n">drol</span>    <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">count</span>
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UML_ROL</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span>
<span class="n">UML_DROL</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Sets <code class="docutils literal notranslate"><span class="pre">dst</span></code> to the value of <code class="docutils literal notranslate"><span class="pre">src</span></code> rotated left by <code class="docutils literal notranslate"><span class="pre">count</span></code> bit
positions.</p>
<section id="id148">
<h4>Operands<a class="headerlink" href="#id148" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the rotated value will be stored.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The value to rotated.</p>
</dd>
<dt>count (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The number of bit positions to rotate by.  Only the least
significant five bits or six bits of this operand are used,
depending on the instruction size.</p>
</dd>
</dl>
</section>
<section id="id149">
<h4>Flags<a class="headerlink" href="#id149" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Set to the value of the last bit rotated out of the most significant
bit position (set to the least significant bit of the result) if the
shift count modulo the operand size in bits is non-zero, or cleared
if the shift count modulo the operand size in bits is zero.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result (set if
the result is a negative signed integer value, or cleared
otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id150">
<h4>Simplification rules<a class="headerlink" href="#id150" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a>, <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> or
<a class="reference internal" href="#umlinst-or"><span class="std std-ref">OR</span></a> if the <code class="docutils literal notranslate"><span class="pre">src</span></code> and <code class="docutils literal notranslate"><span class="pre">count</span></code> operands are both
immediate values or the <code class="docutils literal notranslate"><span class="pre">count</span></code> operand is the immediate value zero
and the carry flag is not required.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand are truncated to the
instruction size.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">count</span></code> operand are truncated to five or
six bits for 32-bit or 64-bit operands, respectively.</p></li>
</ul>
</section>
</section>
<section id="ror">
<span id="umlinst-ror"></span><h3><a class="toc-backref" href="#id284" role="doc-backlink">ROR</a><a class="headerlink" href="#ror" title="Link to this heading">¶</a></h3>
<p>Rotate an integer value to the right (toward the least significant bit
position).  Bits shifted out of the least significant bit position are
shifted into the most significant bit position.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ror</span>     <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">count</span>
<span class="n">dror</span>    <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">count</span>
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UML_ROR</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span>
<span class="n">UML_DROR</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Sets <code class="docutils literal notranslate"><span class="pre">dst</span></code> to the value of <code class="docutils literal notranslate"><span class="pre">src</span></code> rotated right by <code class="docutils literal notranslate"><span class="pre">count</span></code> bit
positions.</p>
<section id="id151">
<h4>Operands<a class="headerlink" href="#id151" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the rotated value will be stored.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The value to rotated.</p>
</dd>
<dt>count (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The number of bit positions to rotate by.  Only the least
significant five bits or six bits of this operand are used,
depending on the instruction size.</p>
</dd>
</dl>
</section>
<section id="id152">
<h4>Flags<a class="headerlink" href="#id152" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Set to the value of the last bit rotated out of the least
significant bit position (set to the most significant bit of the
result) if the shift count modulo the operand size in bits is
non-zero, or cleared if the shift count modulo the operand size in
bits is zero.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result (set if
the result is a negative signed integer value, or cleared
otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id153">
<h4>Simplification rules<a class="headerlink" href="#id153" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a>, <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> or
<a class="reference internal" href="#umlinst-or"><span class="std std-ref">OR</span></a> if the <code class="docutils literal notranslate"><span class="pre">src</span></code> and <code class="docutils literal notranslate"><span class="pre">count</span></code> operands are both
immediate values or the <code class="docutils literal notranslate"><span class="pre">count</span></code> operand is the immediate value zero
and the carry flag is not required.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand are truncated to the
instruction size.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">count</span></code> operand are truncated to five or
six bits for 32-bit or 64-bit operands, respectively.</p></li>
</ul>
</section>
</section>
<section id="rolc">
<span id="umlinst-rolc"></span><h3><a class="toc-backref" href="#id285" role="doc-backlink">ROLC</a><a class="headerlink" href="#rolc" title="Link to this heading">¶</a></h3>
<p>Rotate an integer value concatenated with the carry flag to the left
(toward the most significant bit position).  For each step, the carry
flag is shifted into the least significant bit position, and the carry
flag is set to the bit shifted out of the most significant bit position.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rolc</span>    <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">count</span>
<span class="n">drolc</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">count</span>
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UML_ROLC</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span>
<span class="n">UML_DROLC</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Sets <code class="docutils literal notranslate"><span class="pre">dst</span></code> to the value of <code class="docutils literal notranslate"><span class="pre">src</span></code> concatenated with the carry flag
rotated left by <code class="docutils literal notranslate"><span class="pre">count</span></code> bit positions modulo the operand size in bits.
For each shift step, the current value of the carry flag is shifted into
the least significant bit position, and the carry flag is set to the
value of the bit shifted out of the most significant bit position.</p>
<p>Note that although this instruction rotates a 33-bit or 65-bit value
(including the carry flag), the shift count is interpreted modulo 32 or
64.</p>
<section id="id154">
<h4>Operands<a class="headerlink" href="#id154" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the rotated value will be stored.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The value to rotated.</p>
</dd>
<dt>count (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The number of bit positions to rotate by.  Only the least
significant five bits or six bits of this operand are used,
depending on the instruction size.</p>
</dd>
</dl>
</section>
<section id="id155">
<h4>Flags<a class="headerlink" href="#id155" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Set to the value of the last bit shifted out of the least
significant bit position if the shift count modulo the operand size
in bits is non-zero, or unchanged if the shift count modulo the
operand size in bits is zero.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result (set if
the result is a negative signed integer value, or cleared
otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id156">
<h4>Simplification rules<a class="headerlink" href="#id156" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a> or <a class="reference internal" href="#umlinst-nop"><span class="std std-ref">NOP</span></a> if
the <code class="docutils literal notranslate"><span class="pre">count</span></code> operand is the immediate value zero and the zero and
sign flags are not required.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand are truncated to the
instruction size.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">count</span></code> operand are truncated to five or
six bits for 32-bit or 64-bit operands, respectively.</p></li>
</ul>
</section>
</section>
<section id="rorc">
<span id="umlinst-rorc"></span><h3><a class="toc-backref" href="#id286" role="doc-backlink">RORC</a><a class="headerlink" href="#rorc" title="Link to this heading">¶</a></h3>
<p>Rotate an integer value concatenated with the carry flag to the right
(toward the least significant bit position).  For each step, the carry
flag is shifted into the most significant bit position, and the carry
flag is set to the bit shifted out of the least significant bit
position.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rorc</span>    <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">count</span>
<span class="n">drorc</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">count</span>
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UML_RORC</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span>
<span class="n">UML_DRORC</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Sets <code class="docutils literal notranslate"><span class="pre">dst</span></code> to the value of <code class="docutils literal notranslate"><span class="pre">src</span></code> concatenated with the carry flag
rotated right by <code class="docutils literal notranslate"><span class="pre">count</span></code> bit positions modulo the operand size in
bits.  For each shift step, the current value of the carry flag is
shifted into the most significant bit position, and the carry flag is
set to the value of the bit shifted out of the least significant bit
position.</p>
<p>Note that although this instruction rotates a 33-bit or 65-bit value
(including the carry flag), the shift count is interpreted modulo 32 or
64.</p>
<section id="id157">
<h4>Operands<a class="headerlink" href="#id157" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the rotated value will be stored.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The value to rotated.</p>
</dd>
<dt>count (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The number of bit positions to rotate by.  Only the least
significant five bits or six bits of this operand are used,
depending on the instruction size.</p>
</dd>
</dl>
</section>
<section id="id158">
<h4>Flags<a class="headerlink" href="#id158" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Set to the value of the last bit shifted out of the least
significant bit position if the shift count modulo the operand size
in bits is non-zero, or unchanged if the shift count modulo the
operand size in bits is zero.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result (set if
the result is a negative signed integer value, or cleared
otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id159">
<h4>Simplification rules<a class="headerlink" href="#id159" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a> or <a class="reference internal" href="#umlinst-nop"><span class="std std-ref">NOP</span></a> if
the <code class="docutils literal notranslate"><span class="pre">count</span></code> operand is the immediate value zero and the zero and
sign flags are not required.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand are truncated to the
instruction size.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">count</span></code> operand are truncated to five or
six bits for 32-bit or 64-bit operands, respectively.</p></li>
</ul>
</section>
</section>
<section id="bfx">
<span id="umlinst-bfx"></span><h3><a class="toc-backref" href="#id287" role="doc-backlink">BFX</a><a class="headerlink" href="#bfx" title="Link to this heading">¶</a></h3>
<p>Extract a contiguous bit field from an integer value.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bfxu</span>    <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">shift</span><span class="p">,</span><span class="n">width</span>
<span class="n">bfxs</span>    <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">shift</span><span class="p">,</span><span class="n">width</span>
<span class="n">dbfxu</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">shift</span><span class="p">,</span><span class="n">width</span>
<span class="n">dbfxs</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">shift</span><span class="p">,</span><span class="n">width</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_BFXU</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">shift</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">);</span>
<span class="n">UML_BFXS</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">shift</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">);</span>
<span class="n">UML_DBFXU</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">shift</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">);</span>
<span class="n">UML_DBFXS</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">shift</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Extracts and right-aligns a contiguous bit field from the value of
<code class="docutils literal notranslate"><span class="pre">src</span></code>, specified by its least significant bit position and width in
bits.  The field must be narrower than the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand, but it may
wrap around from the most significant bit position to the least
significant bit position.  BFXU and DBFXU zero-extend an unsigned field,
while BFXS and DBFXS sign-extend a signed field.</p>
<p>Back-ends may be able to optimise some forms of this instruction for
example when the <code class="docutils literal notranslate"><span class="pre">shift</span></code> and <code class="docutils literal notranslate"><span class="pre">width</span></code> operands are both immediate
values.</p>
<section id="id160">
<h4>Operands<a class="headerlink" href="#id160" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the extracted field will be stored.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The value to extract a contiguous bit field from.</p>
</dd>
<dt>shift (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The position of the least significant bit of the field to extract,
where zero is the least significant bit position, and bit numbers
increase toward the most significant bit position.  Only the least
significant five bits or six bits of this operand are used,
depending on the instruction size.</p>
</dd>
<dt>width (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The width of the field to extract in bits.  Only the least
significant five bits or six bits of this operand are used,
depending on the instruction size.  The result is undefined if the
width modulo the instruction size in bits is zero.</p>
</dd>
</dl>
</section>
<section id="id161">
<h4>Flags<a class="headerlink" href="#id161" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result (set if
the result is a negative signed integer value, or cleared
otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id162">
<h4>Simplification rules<a class="headerlink" href="#id162" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a>, <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> or
<a class="reference internal" href="#umlinst-or"><span class="std std-ref">OR</span></a> if the <code class="docutils literal notranslate"><span class="pre">src</span></code>, <code class="docutils literal notranslate"><span class="pre">shift</span></code> and <code class="docutils literal notranslate"><span class="pre">width</span></code>
operands are all immediate values, or if the <code class="docutils literal notranslate"><span class="pre">width</span></code> operand is the
immediate value zero.</p></li>
<li><p>Converted to <a class="reference internal" href="#umlinst-shr"><span class="std std-ref">SHR</span></a> or <a class="reference internal" href="#umlinst-sar"><span class="std std-ref">SAR</span></a> if
the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand is not an immediate value, the <code class="docutils literal notranslate"><span class="pre">shift</span></code> and
<code class="docutils literal notranslate"><span class="pre">width</span></code> operands are both immediate values, and the sum of the value
of the <code class="docutils literal notranslate"><span class="pre">shift</span></code> operand and the value of the <code class="docutils literal notranslate"><span class="pre">width</span></code> operand is
equal to the instruction size in bits.</p></li>
<li><p>BFXU and DBFXU are converted to <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> if the
<code class="docutils literal notranslate"><span class="pre">shift</span></code> operand is the immediate value zero and <code class="docutils literal notranslate"><span class="pre">width</span></code> operand is
an immediate value.</p></li>
<li><p>BFXS and DBFXS are converted to <a class="reference internal" href="#umlinst-sext"><span class="std std-ref">SEXT</span></a> if the
<code class="docutils literal notranslate"><span class="pre">shift</span></code> operand is the immediate value zero and <code class="docutils literal notranslate"><span class="pre">width</span></code> operand is
the immediate value 8, 16 or 32.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand are truncated to the
instruction size.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">shift</span></code> and <code class="docutils literal notranslate"><span class="pre">width</span></code> operands are
truncated to five or six bits for 32-bit or 64-bit operands,
respectively.</p></li>
</ul>
</section>
</section>
<section id="roland">
<span id="umlinst-roland"></span><h3><a class="toc-backref" href="#id288" role="doc-backlink">ROLAND</a><a class="headerlink" href="#roland" title="Link to this heading">¶</a></h3>
<p>Rotate and mask an integer value.  The value is rotated to the left
(toward the most significant bit position).  Bits shifted out of the
most significant bit position are shifted into the least significant bit
position.  The logical conjunction of the rotated value and the mask is
then calculated.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">roland</span>  <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">count</span><span class="p">,</span><span class="n">mask</span>
<span class="n">droland</span> <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">count</span><span class="p">,</span><span class="n">mask</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_ROLAND</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">);</span>
<span class="n">UML_DROLAND</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Sets <code class="docutils literal notranslate"><span class="pre">dst</span></code> to the logical conjunction of the value of <code class="docutils literal notranslate"><span class="pre">src</span></code> rotated
left by <code class="docutils literal notranslate"><span class="pre">count</span></code> bit positions and the value of <code class="docutils literal notranslate"><span class="pre">mask</span></code>.</p>
<p>Back-ends may be able to optimise some forms of this instruction, for
example when the <code class="docutils literal notranslate"><span class="pre">count</span></code> and <code class="docutils literal notranslate"><span class="pre">mask</span></code> operands are both immediate
values.</p>
<section id="id163">
<h4>Operands<a class="headerlink" href="#id163" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the rotated and masked value will be stored.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The value to be rotated and masked.</p>
</dd>
<dt>count (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The number of bit positions to rotate by.  Only the least
significant five bits or six bits of this operand are used,
depending on the instruction size.</p>
</dd>
<dt>mask (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The mask to calculate the logical conjunction with.</p>
</dd>
</dl>
</section>
<section id="id164">
<h4>Flags<a class="headerlink" href="#id164" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result (set if
the result is a negative signed integer value, or cleared
otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id165">
<h4>Simplification rules<a class="headerlink" href="#id165" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a>, <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> or
<a class="reference internal" href="#umlinst-or"><span class="std std-ref">OR</span></a> if the <code class="docutils literal notranslate"><span class="pre">src</span></code> and <code class="docutils literal notranslate"><span class="pre">count</span></code> operands are both
immediate values, or if either the <code class="docutils literal notranslate"><span class="pre">count</span></code> or <code class="docutils literal notranslate"><span class="pre">mask</span></code> operand is
the immediate value zero.</p></li>
<li><p>Converted to <a class="reference internal" href="#umlinst-rol"><span class="std std-ref">ROL</span></a> if the <code class="docutils literal notranslate"><span class="pre">mask</span></code> operand is an
immediate value with all bits set.</p></li>
<li><p>Converted to <a class="reference internal" href="#umlinst-shl"><span class="std std-ref">SHL</span></a> if the <code class="docutils literal notranslate"><span class="pre">count</span></code> operand is an
immediate value and the <code class="docutils literal notranslate"><span class="pre">mask</span></code> operand is an immediate value
containing a single contiguous left-aligned sequence of set bits of
the appropriate length for the value of the <code class="docutils literal notranslate"><span class="pre">count</span></code> operand.</p></li>
<li><p>Converted to <a class="reference internal" href="#umlinst-shr"><span class="std std-ref">SHR</span></a> or <a class="reference internal" href="#umlinst-bfx"><span class="std std-ref">BFX</span></a> if
the <code class="docutils literal notranslate"><span class="pre">count</span></code> operand is an immediate value and the <code class="docutils literal notranslate"><span class="pre">mask</span></code> operand
is an immediate value containing a single contiguous right-aligned
sequence of set bits.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src</span></code> and <code class="docutils literal notranslate"><span class="pre">mask</span></code> operands are truncated
to the instruction size.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">count</span></code> operand are truncated to five or
six bits for 32-bit or 64-bit operands, respectively.</p></li>
</ul>
</section>
</section>
<section id="rolins">
<span id="umlinst-rolins"></span><h3><a class="toc-backref" href="#id289" role="doc-backlink">ROLINS</a><a class="headerlink" href="#rolins" title="Link to this heading">¶</a></h3>
<p>Rotate an integer value and combine with the destination value using a
mask.  The value is rotated to the left (toward the most significant bit
position).  Bits shifted out of the most significant bit position are
shifted into the least significant bit position.  The rotated value is
then combined with the destination value: for bit positions that are set
in the mask, the corresponding bit position values are copied from the
rotated value to the destination; for bit positions that are clear in
the mask, the corresponding bit position values in the destination are
preserved.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rolins</span>  <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">count</span><span class="p">,</span><span class="n">mask</span>
<span class="n">drolins</span> <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">count</span><span class="p">,</span><span class="n">mask</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_ROLINS</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">);</span>
<span class="n">UML_DROLINS</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Rotates the value of <code class="docutils literal notranslate"><span class="pre">src</span></code> left by <code class="docutils literal notranslate"><span class="pre">count</span></code> bit positions and then
copies bit values to <code class="docutils literal notranslate"><span class="pre">dst</span></code> where the corresponding bit positions are
set in <code class="docutils literal notranslate"><span class="pre">mask</span></code>.</p>
<p>Back-ends may be able to optimise some forms of this instruction, for
example when the <code class="docutils literal notranslate"><span class="pre">count</span></code> and <code class="docutils literal notranslate"><span class="pre">mask</span></code> operands are both immediate
values.</p>
<section id="id166">
<h4>Operands<a class="headerlink" href="#id166" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination that will be combined with the rotated value.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The value to be rotated and masked.</p>
</dd>
<dt>count (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The number of bit positions to rotate by.  Only the least
significant five bits or six bits of this operand are used,
depending on the instruction size.</p>
</dd>
<dt>mask (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The mask to control which bit positions are copied from the rotated
value and which bit positions are preserved in the destination.</p>
</dd>
</dl>
</section>
<section id="id167">
<h4>Flags<a class="headerlink" href="#id167" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result (set if
the result is a negative signed integer value, or cleared
otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id168">
<h4>Simplification rules<a class="headerlink" href="#id168" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-rol"><span class="std std-ref">ROL</span></a>, <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a>,
<a class="reference internal" href="#umlinst-or"><span class="std std-ref">OR</span></a> or <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a> if the <code class="docutils literal notranslate"><span class="pre">mask</span></code>
operand is an immediate value with all bits set or the immediate value
zero.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src</span></code> and <code class="docutils literal notranslate"><span class="pre">mask</span></code> operands are truncated
to the instruction size.</p></li>
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">count</span></code> operand are truncated to five or
six bits for 32-bit or 64-bit operands, respectively.</p></li>
</ul>
</section>
</section>
<section id="bswap">
<span id="umlinst-bswap"></span><h3><a class="toc-backref" href="#id290" role="doc-backlink">BSWAP</a><a class="headerlink" href="#bswap" title="Link to this heading">¶</a></h3>
<p>Reverse the order of bytes within an integer value.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bswap</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
<span class="n">dbswap</span>  <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_BSWAP</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
<span class="n">UML_DBSWAP</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>This instruction can be used to convert between big Endian and little
Endian byte order.</p>
<section id="id169">
<h4>Operands<a class="headerlink" href="#id169" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the result will be stored.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The value to have its byte order reversed.</p>
</dd>
</dl>
</section>
<section id="id170">
<h4>Flags<a class="headerlink" href="#id170" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the result is zero, or cleared otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Set to the value of the most significant bit of the result (set if
the result is a negative signed integer value, or cleared
otherwise).</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id171">
<h4>Simplification rules<a class="headerlink" href="#id171" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-mov"><span class="std std-ref">MOV</span></a>, <a class="reference internal" href="#umlinst-and"><span class="std std-ref">AND</span></a> or
<a class="reference internal" href="#umlinst-or"><span class="std std-ref">OR</span></a> if the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand is an immediate value.</p></li>
</ul>
</section>
</section>
</section>
<section id="floating-point-arithmetic">
<span id="umlinst-fparith"></span><h2><a class="toc-backref" href="#id291" role="doc-backlink">Floating point arithmetic</a><a class="headerlink" href="#floating-point-arithmetic" title="Link to this heading">¶</a></h2>
<section id="fadd">
<span id="umlinst-fadd"></span><h3><a class="toc-backref" href="#id292" role="doc-backlink">FADD</a><a class="headerlink" href="#fadd" title="Link to this heading">¶</a></h3>
<p>Add two floating point numbers.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fsadd</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">fdadd</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_FSADD</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_FDADD</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Calculates <code class="docutils literal notranslate"><span class="pre">dst</span> <span class="pre">=</span> <span class="pre">src1</span> <span class="pre">+</span> <span class="pre">src2</span></code>.</p>
<section id="id172">
<h4>Operands<a class="headerlink" href="#id172" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The destination where the sum will be stored.</p>
</dd>
<dt>src1 (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The first addend.</p>
</dd>
<dt>src2 (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The second addend.</p>
</dd>
</dl>
</section>
<section id="id173">
<h4>Simplification rules<a class="headerlink" href="#id173" title="Link to this heading">¶</a></h4>
<p>No simplifications are applied to this instruction.</p>
</section>
</section>
<section id="fsub">
<span id="umlinst-fsub"></span><h3><a class="toc-backref" href="#id293" role="doc-backlink">FSUB</a><a class="headerlink" href="#fsub" title="Link to this heading">¶</a></h3>
<p>Subtract a floating point number from another floating point number.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fssub</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">fdsub</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_FSSUB</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_FDSUB</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Calculates <code class="docutils literal notranslate"><span class="pre">dst</span> <span class="pre">=</span> <span class="pre">src1</span> <span class="pre">-</span> <span class="pre">src2</span></code>.</p>
<section id="id174">
<h4>Operands<a class="headerlink" href="#id174" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The destination where the difference will be stored.</p>
</dd>
<dt>src1 (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The minuend (the value to subtract from).</p>
</dd>
<dt>src2 (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The subtrahend (the value to subtract).</p>
</dd>
</dl>
</section>
<section id="id175">
<h4>Flags<a class="headerlink" href="#id175" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id176">
<h4>Simplification rules<a class="headerlink" href="#id176" title="Link to this heading">¶</a></h4>
<p>No simplifications are applied to this instruction.</p>
</section>
</section>
<section id="fcmp">
<span id="umlinst-fcmp"></span><h3><a class="toc-backref" href="#id294" role="doc-backlink">FCMP</a><a class="headerlink" href="#fcmp" title="Link to this heading">¶</a></h3>
<p>Compare two floating-point numbers and set the carry, zero and unordered
flags.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fscmp</span>   <span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">fdcmp</span>   <span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_FSCMP</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_FDCMP</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id177">
<h4>Operands<a class="headerlink" href="#id177" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>src1 (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The left-hand side value to compare.</p>
</dd>
<dt>src2 (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The right-hand side value to compare.</p>
</dd>
</dl>
</section>
<section id="id178">
<h4>Flags<a class="headerlink" href="#id178" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Set if the value of <code class="docutils literal notranslate"><span class="pre">src1</span></code> is less than the value of <code class="docutils literal notranslate"><span class="pre">src2</span></code>, or
cleared otherwise.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Set if the values of <code class="docutils literal notranslate"><span class="pre">src1</span></code> and <code class="docutils literal notranslate"><span class="pre">src2</span></code> are equal, or cleared
otherwise.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Set if either <code class="docutils literal notranslate"><span class="pre">src1</span></code> or <code class="docutils literal notranslate"><span class="pre">src2</span></code> is not a number (NaN), or cleared
otherwise.</p>
</dd>
</dl>
</section>
<section id="id179">
<h4>Simplification rules<a class="headerlink" href="#id179" title="Link to this heading">¶</a></h4>
<p>No simplifications are applied to this instruction.</p>
</section>
</section>
<section id="fmul">
<span id="umlinst-fmul"></span><h3><a class="toc-backref" href="#id295" role="doc-backlink">FMUL</a><a class="headerlink" href="#fmul" title="Link to this heading">¶</a></h3>
<p>Multiply two floating point numbers.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fsmul</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">fdmul</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_FSMUL</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_FDMUL</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Calculates <code class="docutils literal notranslate"><span class="pre">dst</span> <span class="pre">=</span> <span class="pre">src1</span> <span class="pre">*</span> <span class="pre">src2</span></code>.</p>
<section id="id180">
<h4>Operands<a class="headerlink" href="#id180" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The destination where the product will be stored.</p>
</dd>
<dt>src1 (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The multiplicand (the value to multiply).</p>
</dd>
<dt>src2 (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The multiplier (the value to multiply by).</p>
</dd>
</dl>
</section>
<section id="id181">
<h4>Flags<a class="headerlink" href="#id181" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id182">
<h4>Simplification rules<a class="headerlink" href="#id182" title="Link to this heading">¶</a></h4>
<p>No simplifications are applied to this instruction.</p>
</section>
</section>
<section id="fdiv">
<span id="umlinst-fdiv"></span><h3><a class="toc-backref" href="#id296" role="doc-backlink">FDIV</a><a class="headerlink" href="#fdiv" title="Link to this heading">¶</a></h3>
<p>Divide a floating point number by another floating point number.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fsdiv</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
<span class="n">fddiv</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src1</span><span class="p">,</span><span class="n">src2</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_FSDIV</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
<span class="n">UML_FDDIV</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src1</span><span class="p">,</span><span class="w"> </span><span class="n">src2</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Calculates <code class="docutils literal notranslate"><span class="pre">dst</span> <span class="pre">=</span> <span class="pre">src1</span> <span class="pre">/</span> <span class="pre">src2</span></code>.</p>
<section id="id183">
<h4>Operands<a class="headerlink" href="#id183" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The destination where the quotient will be stored.</p>
</dd>
<dt>src1 (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The dividend (the value to divide).</p>
</dd>
<dt>src2 (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The divisor (the value to divide by).</p>
</dd>
</dl>
</section>
<section id="id184">
<h4>Flags<a class="headerlink" href="#id184" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id185">
<h4>Simplification rules<a class="headerlink" href="#id185" title="Link to this heading">¶</a></h4>
<p>No simplifications are applied to this instruction.</p>
</section>
</section>
<section id="fneg">
<span id="umlinst-fneg"></span><h3><a class="toc-backref" href="#id297" role="doc-backlink">FNEG</a><a class="headerlink" href="#fneg" title="Link to this heading">¶</a></h3>
<p>Negate a floating point number.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fsneg</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
<span class="n">fdneg</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_FSNEG</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
<span class="n">UML_FDNEG</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Calculates <code class="docutils literal notranslate"><span class="pre">dst</span> <span class="pre">=</span> <span class="pre">-src</span></code>.</p>
<section id="id186">
<h4>Operands<a class="headerlink" href="#id186" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The destination where the result will be stored.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The value to be negated.</p>
</dd>
</dl>
</section>
<section id="id187">
<h4>Flags<a class="headerlink" href="#id187" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id188">
<h4>Simplification rules<a class="headerlink" href="#id188" title="Link to this heading">¶</a></h4>
<p>No simplifications are applied to this instruction.</p>
</section>
</section>
<section id="fabs">
<span id="umlinst-fabs"></span><h3><a class="toc-backref" href="#id298" role="doc-backlink">FABS</a><a class="headerlink" href="#fabs" title="Link to this heading">¶</a></h3>
<p>Calculate the absolute value of a floating point number.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fsabs</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
<span class="n">fdabs</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_FSABS</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
<span class="n">UML_FDABS</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id189">
<h4>Operands<a class="headerlink" href="#id189" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The destination where the result will be stored.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The value to calculate the absolute value of.</p>
</dd>
</dl>
</section>
<section id="id190">
<h4>Flags<a class="headerlink" href="#id190" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id191">
<h4>Simplification rules<a class="headerlink" href="#id191" title="Link to this heading">¶</a></h4>
<p>No simplifications are applied to this instruction.</p>
</section>
</section>
<section id="fsqrt">
<span id="umlinst-fsqrt"></span><h3><a class="toc-backref" href="#id299" role="doc-backlink">FSQRT</a><a class="headerlink" href="#fsqrt" title="Link to this heading">¶</a></h3>
<p>Calculate the square root of a floating point number.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fssqrt</span>  <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
<span class="n">fdsqrt</span>  <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_FSSQRT</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
<span class="n">UML_FDSQRT</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id192">
<h4>Operands<a class="headerlink" href="#id192" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The destination where the square root will be stored.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The value to calculate the square root of.</p>
</dd>
</dl>
</section>
<section id="id193">
<h4>Flags<a class="headerlink" href="#id193" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id194">
<h4>Simplification rules<a class="headerlink" href="#id194" title="Link to this heading">¶</a></h4>
<p>No simplifications are applied to this instruction.</p>
</section>
</section>
<section id="frecip">
<span id="umlinst-frecip"></span><h3><a class="toc-backref" href="#id300" role="doc-backlink">FRECIP</a><a class="headerlink" href="#frecip" title="Link to this heading">¶</a></h3>
<p>Calculate an approximate reciprocal value of a floating point number.
The algorithm used, precision and nature of inaccuracies in the
approximation are unspecified.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fsabs</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
<span class="n">fdabs</span>   <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_FSABS</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
<span class="n">UML_FDABS</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id195">
<h4>Operands<a class="headerlink" href="#id195" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The destination where the result will be stored.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The value to approximate the reciprocal of.</p>
</dd>
</dl>
</section>
<section id="id196">
<h4>Flags<a class="headerlink" href="#id196" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id197">
<h4>Simplification rules<a class="headerlink" href="#id197" title="Link to this heading">¶</a></h4>
<p>No simplifications are applied to this instruction.</p>
</section>
</section>
<section id="frsqrt">
<span id="umlinst-frsqrt"></span><h3><a class="toc-backref" href="#id301" role="doc-backlink">FRSQRT</a><a class="headerlink" href="#frsqrt" title="Link to this heading">¶</a></h3>
<p>Calculate an approximate reciprocal value of the square root of a
floating point number.  The algorithm used, precision and nature of
inaccuracies in the approximation are unspecified.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fsrsqrt</span> <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
<span class="n">fdrsqrt</span> <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
</pre></div>
</div>
</td>
<td><div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">UML_FSRSQRT</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
<span class="n">UML_FDRSQRT</span><span class="p">(</span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id198">
<h4>Operands<a class="headerlink" href="#id198" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The destination where the result will be stored.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The value to approximate the reciprocal of the square root of.</p>
</dd>
</dl>
</section>
<section id="id199">
<h4>Flags<a class="headerlink" href="#id199" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id200">
<h4>Simplification rules<a class="headerlink" href="#id200" title="Link to this heading">¶</a></h4>
<p>No simplifications are applied to this instruction.</p>
</section>
</section>
<section id="frnds">
<span id="umlinst-frnds"></span><h3><a class="toc-backref" href="#id302" role="doc-backlink">FRNDS</a><a class="headerlink" href="#frnds" title="Link to this heading">¶</a></h3>
<p>Round a 64-bit floating point value to 32-bit precision.  The current
default rounding type set using the <a class="reference internal" href="#umlinst-setfmod"><span class="std std-ref">SETFMOD</span></a> is
used.  Note that the instruction size must always be 64 bits for this
instruction.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fdrnds</span>  <span class="n">dst</span><span class="p">,</span><span class="n">src</span>
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UML_FDRNDS</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id201">
<h4>Operands<a class="headerlink" href="#id201" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (64-bit – memory, floating point register)</dt><dd><p>The destination where the rounded value will be stored.</p>
</dd>
<dt>src (64-bit – memory, floating point register)</dt><dd><p>The floating point value to round to 32-bit precision.</p>
</dd>
</dl>
</section>
<section id="id202">
<h4>Flags<a class="headerlink" href="#id202" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id203">
<h4>Simplification rules<a class="headerlink" href="#id203" title="Link to this heading">¶</a></h4>
<p>No simplifications are applied to this instruction.</p>
</section>
</section>
</section>
<section id="floating-point-conversion">
<span id="umlinst-fpconv"></span><h2><a class="toc-backref" href="#id303" role="doc-backlink">Floating point conversion</a><a class="headerlink" href="#floating-point-conversion" title="Link to this heading">¶</a></h2>
<section id="ftoint">
<span id="umlinst-ftoint"></span><h3><a class="toc-backref" href="#id304" role="doc-backlink">FTOINT</a><a class="headerlink" href="#ftoint" title="Link to this heading">¶</a></h3>
<p>Convert a floating point number to a signed two’s complement integer.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fstoint</span> <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">size</span><span class="p">,</span><span class="nb">round</span>
<span class="n">fdtoint</span> <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">size</span><span class="p">,</span><span class="nb">round</span>
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UML_FSTOINT</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="nb">round</span><span class="p">);</span>
<span class="n">UML_FDTOINT</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="nb">round</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id204">
<h4>Operands<a class="headerlink" href="#id204" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, integer register)</dt><dd><p>The destination where the integer value will be stored.  The
size/format is controlled by the <code class="docutils literal notranslate"><span class="pre">size</span></code> operand.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The floating point value to convert to an integer.  The instruction
size sets the size/format of this operand.</p>
</dd>
<dt>size (access size)</dt><dd><p>The size of the result.  Must be <code class="docutils literal notranslate"><span class="pre">SIZE_DWORD</span></code> (32-bit) or
<code class="docutils literal notranslate"><span class="pre">SIZE_QWORD</span></code> (64-bit).  Note that this operand controls the size
of the <code class="docutils literal notranslate"><span class="pre">dst</span></code> operand while the instruction size sets the size of
the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand.</p>
</dd>
<dt>round (rounding type)</dt><dd><p>The rounding type to use.  Must be <code class="docutils literal notranslate"><span class="pre">ROUND_ROUND</span></code> (round to
nearest), <code class="docutils literal notranslate"><span class="pre">ROUND_CEIL</span></code> (round toward positive infinity),
<code class="docutils literal notranslate"><span class="pre">ROUND_FLOOR</span></code> (round toward negative infinity), <code class="docutils literal notranslate"><span class="pre">ROUND_TRUNC</span></code>
(round toward zero) or <code class="docutils literal notranslate"><span class="pre">ROUND_DEFAULT</span></code> (use the current default
rounding type set using the <a class="reference internal" href="#umlinst-setfmod"><span class="std std-ref">SETFMOD</span></a>
instruction).</p>
</dd>
</dl>
</section>
<section id="id205">
<h4>Flags<a class="headerlink" href="#id205" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id206">
<h4>Simplification rules<a class="headerlink" href="#id206" title="Link to this heading">¶</a></h4>
<p>No simplifications are applied to this instruction.</p>
</section>
</section>
<section id="ffrint">
<span id="umlinst-ffrint"></span><h3><a class="toc-backref" href="#id305" role="doc-backlink">FFRINT</a><a class="headerlink" href="#ffrint" title="Link to this heading">¶</a></h3>
<p>Convert a signed two’s complement integer to a floating point number.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fsfrint</span> <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">size</span>
<span class="n">fdfrint</span> <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">size</span>
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UML_FSFRINT</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">size</span><span class="p">);</span>
<span class="n">UML_FDFRINT</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">size</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id207">
<h4>Operands<a class="headerlink" href="#id207" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The destination where the floating point value will be stored.  The
instruction size sets the size/format of this operand.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, integer register, immediate, map variable)</dt><dd><p>The integer value to convert to a floating point value.  The
size/format is controlled by the <code class="docutils literal notranslate"><span class="pre">size</span></code> operand.</p>
</dd>
<dt>size (access size)</dt><dd><p>The size of the input.  Must be <code class="docutils literal notranslate"><span class="pre">SIZE_DWORD</span></code> (32-bit) or
<code class="docutils literal notranslate"><span class="pre">SIZE_QWORD</span></code> (64-bit).  Note that this operand controls the size
of the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand while the instruction size sets the size of
the <code class="docutils literal notranslate"><span class="pre">dst</span></code> operand.</p>
</dd>
</dl>
</section>
<section id="id208">
<h4>Flags<a class="headerlink" href="#id208" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id209">
<h4>Simplification rules<a class="headerlink" href="#id209" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Immediate values for the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand are truncated to the size set
using the <code class="docutils literal notranslate"><span class="pre">size</span></code> operand.</p></li>
</ul>
</section>
</section>
<section id="ffrflt">
<span id="umlinst-ffrflt"></span><h3><a class="toc-backref" href="#id306" role="doc-backlink">FFRFLT</a><a class="headerlink" href="#ffrflt" title="Link to this heading">¶</a></h3>
<p>Convert between floating point formats.  The current default rounding
type set using the <a class="reference internal" href="#umlinst-setfmod"><span class="std std-ref">SETFMOD</span></a> is used if
applicable.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Disassembly</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fsfrflt</span> <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">size</span>
<span class="n">fdfrflt</span> <span class="n">dst</span><span class="p">,</span><span class="n">src</span><span class="p">,</span><span class="n">size</span>
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UML_FSFRFLT</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">size</span><span class="p">);</span>
<span class="n">UML_FDFRFLT</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">size</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<section id="id210">
<h4>Operands<a class="headerlink" href="#id210" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>dst (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The destination where the converted value will be stored.  The
instruction size sets the size/format of this operand.</p>
</dd>
<dt>src (32-bit or 64-bit – memory, floating point register)</dt><dd><p>The floating point value to convert.  The size/format is controlled
by the <code class="docutils literal notranslate"><span class="pre">size</span></code> operand.</p>
</dd>
<dt>size (access size)</dt><dd><p>The size of the input.  Must be <code class="docutils literal notranslate"><span class="pre">SIZE_SHORT</span></code> (32-bit) or
<code class="docutils literal notranslate"><span class="pre">SIZE_DOUBLE</span></code> (64-bit).  Note that this operand controls the size
of the <code class="docutils literal notranslate"><span class="pre">src</span></code> operand while the instruction size sets the size of
the <code class="docutils literal notranslate"><span class="pre">dst</span></code> operand.</p>
</dd>
</dl>
</section>
<section id="id211">
<h4>Flags<a class="headerlink" href="#id211" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>carry (C)</dt><dd><p>Undefined.</p>
</dd>
<dt>overflow (V)</dt><dd><p>Undefined.</p>
</dd>
<dt>zero (Z)</dt><dd><p>Undefined.</p>
</dd>
<dt>sign (S)</dt><dd><p>Undefined.</p>
</dd>
<dt>unordered (U)</dt><dd><p>Undefined.</p>
</dd>
</dl>
</section>
<section id="id212">
<h4>Simplification rules<a class="headerlink" href="#id212" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Converted to <a class="reference internal" href="#umlinst-fmov"><span class="std std-ref">FMOV</span></a> or <a class="reference internal" href="#umlinst-nop"><span class="std std-ref">NOP</span></a> if
the <code class="docutils literal notranslate"><span class="pre">dst</span></code> and <code class="docutils literal notranslate"><span class="pre">src</span></code> operands have the same size/format.</p></li>
</ul>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="m6502.html" class="btn btn-neutral float-left" title="The new 6502 family implementation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="poly_manager.html" class="btn btn-neutral float-right" title="Software 3D Rendering in MAME" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 1997-2025, MAMEdev and contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>